{"version":3,"sources":["firebase.js","assets/images/landing/spiral5.png","assets/images/landing/video_thumbnai1.webp","assets/images/landing/feed.png","assets/images/landing/feeds-arrow.svg","assets/images/landing/nft-arrow.svg","assets/images/landing/nft.png","context.js","dbFetchFunctions.js","components/bell/index.jsx","assets/images/header/logo-new.svg","assets/images/header/in.svg","assets/images/header/us.svg","assets/images/register/help.png","components/header/header.jsx","assets/images/header/googlePlay.png","assets/images/header/iOS.png","assets/images/header/logo.png","emoji-url.js","components/chat/Emoji-picker.jsx","components/reportpopup/reportuserpopup.jsx","components/reportpopup/blockUser.jsx","components/chat/chat.jsx","components/footer/footer.jsx","components/layout/layout.jsx","components/register/circularTimer.jsx","components/register/formPhone.jsx","components/register/formOTP.jsx","assets/images/loader/DiceLVsmall.gif","components/register/formAccount.jsx","components/register/formGmailUserNickName.jsx","components/register/register.jsx","assets/images/landing/poker ad.mp4","assets/images/landing/Las-Vegas _ Social Gaming App.mp4","assets/images/header/Final-Logo-PNG-text.png","assets/images/popups/panda1.png","assets/images/popups/panda2.png","assets/images/popups/panda3.png","assets/images/popups/panda4.png","assets/images/popups/panda5.png","assets/images/popups/panda6.png","assets/images/popups/panda7.png","assets/images/popups/panda8.png","assets/images/popups/panda9.png","components/landingPage/landing.jsx","components/privacy-policy/index.jsx","components/terms-of-use/index.jsx","components/NotFoundPage/index.jsx","App.js","serviceWorker.js","i18n.js","index.js"],"names":["firebaseApp","firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","firestore","storage","database","window","messaging","onMessage","payload","console","log","notification","Notification","permission","notification1","title","image","onclick","event","preventDefault","open","click_action","close","error","GameContext","friendsList","blockList","following","followers","feeds","setFeeds","setFollowers","setFollowing","setNotification","setBlockList","setFriendList","MainContext","React","createContext","chatHistory","u","p","x","y","db","collection","doc","where","orderBy","limitToLast","get","forEach","push","data","id","update","isRead","chat","concat","sort","a","b","date","toDate","updateReadNotification","uid","notiId","Bell","props","history","useHistory","useState","Uid","redirect","unreadCount","idToken","state","setState","context1","useContext","getNotification","token","axios","headers","res","context","success","notiArray","count","reduce","prev","curr","useEffect","length","className","map","noti","i","onClick","docId","src","photo","alt","postId","text","Header","setUid","setToken","setunreadCount","localStorage","getItem","usid","gameLink","setGameLink","leaveTableUrl","setLeaveLink","showInGamePopup","setShowInGamePopup","loader","setLoader","stickyHeader","setStickyHeader","flag","setFlage","useTranslation","t","i18n","changeLanguage","lng","watchScroll","scrollY","undefined","screen","width","addEventListener","removeEventListener","auth","onAuthStateChanged","user","us","currentUser","getIdToken","idtoken","device","doSignout","checkIsLoggedIn","backgammonCheck","gameStatus","link","setTimeout","location","reload","pokerCheck","blackJackCheck","ludoCheck","checkInGame","handleLeave","status","onSnapshot","snapshot","docs","getFeedListener","params","service","then","response","signOut","href","catch","pathname","splitLocation","split","xtkn","logo","to","role","helpicon","Dropdown","Toggle","india","Menu","Item","Navbar","collapseOnSelect","expand","variant","style","color","aria-controls","Collapse","Modal","show","centered","size","Body","Button","disabled","Spinner","animation","emojis","EmojiPicker","onEmojiClick","Emojis","emoji","e","ReportUserPopup","peer","step","setStep","handleStep","value","toast","duration","icon","borderRadius","background","frId","subject","BlockUserPopUp","nickname","handleBlock","handleClose","toUpperCase","height","Chat","handleClick","displayName","nick","setPeer","setShow","chatHist","setChatHist","userPhoto","setuserPhoto","peerPhoto","setPeerPhoto","peername","setpeername","setIdToken","img","photoURL","hdd","refFromURL","getDownloadURL","url","uPeers","last","unread","urCount","last_unread","setLast_unread","newPeer","uniqueChatPeers","z","c","find","ele","le","seconds","maxY","maxX","la","from","index","findIndex","botCount","splice","bot","activePeers","activeStatus","session","agent","getChatPeers","getChatHist","peerId","name","msg","handleBackClick","view","setView","handleShow","user1","DropdownButton","aria-hidden","onHide","closeButton","statusText","ChatUserList","filterUsers","setFilterUser","setCount","setUPeers","Form","inline","Control","type","onChange","target","toLowerCase","filter","search","handleSearch","placeholder","el","toDateString","contentEditable","dangerouslySetInnerHTML","__html","body","SingleChatUser","dummy","useRef","setEmoji","message","setMessage","altDate","setAltDate","sendMessage","msgData","FieldValue","serverTimestamp","arr","set","cAction","origin","current","scrollIntoView","behavior","scrollToBottom","changes","docChanges","preState","oldState","change","dt","side","myDate","Date","toLocaleString","content","cc","dd","includes","msgs","uname","remainBody","join","button","ref","onSubmit","emojiUrl","ActionButton","isClicked","setIsClicked","handleAcceptRequest","fName","frTable","blockTable","handleCancelRequest","handleSendRequest","FUid","IdTokenConst","handlePlayQuickMatch","gameColl","pokerQuickLink","handleJoinTable","d","tabId","Idtoken","link1","pokerTableLink","removeItem","handleBetAccept","PeerImage","Footer","setOpen","isIOS","isMobile","googleImg","appImg","document","indexOf","Layout","children","CircularTimer","isPlaying","strokeWidth","colors","colorsTime","remainingTime","FormPhone","ifRegistr","handleVideoPopup","showVideoPopup","handleNFTPopup","NFTPopup","handleNFTPopupClose","handleRegisterPopup","showVideo","RegisterShow","country","city","ip","phone","otp","loading","accessRestricted","deviceId","videoType","statShow","handleGoogleLogin","bind","position","coords","latitude","longitude","this","countryCode","handleUserOrigin","country_code","values","obj","IPv4","loc","navigator","geolocation","getCurrentPosition","geolocationSuccess","err","enableHighAccuracy","timeout","maximumAge","phoneUpdate","browser","browserName","gtag","sms","fmctoken","myErrorVariable","myError2","error2","OTC","duplicate","phone_in_DB","nextStep","email","profileObj","access_token","tokenObj","toggleState","Group","controlId","Label","defaultCountry","required","formPhoneNumber","Component","LoginButton","clientId","render","renderProps","buttonText","onSuccess","onFailure","cookiePolicy","loaderIcon","loop","autoplay","animationData","FormOTP","handleOTPChange","smsOtc","ErrorVariable","autoComplete","formOTP","options","FormAccount","handleChange","checked","validate","passError","nickNameError","emailError","pw","nickValidate","nickVal","nickError","isNaN","charAt","test","termsnValidate","handleRegisterClick","isGoogle","isValid","nickisValid","handleGmailRegsiter","password","terms","author","goToLogin","formCreateAccount","bonusCoins","bonusdata","bonusUid","handleNickName","handleEmail","handlePasswprd","adsid","signInWithCustomToken","userCredential","setItem","gotoProfilePage","defaultChecked","diceLoader","FormGmailUserNickName","setLoading","setNick","setChecked","regexAlphabets","getCountryCode","Register","phoneVar","emailUpdate","handleDeviceId","device_str_id","mobileVendor","mobileModel","getUA","replace","accessToken","goToProfile","phoneNumbers","birthdays","genders","canonicalForm","month","day","setMonth","setDate","birthday","toISOString","gender","sucess","newRegister","birth","query","urlParams","URLSearchParams","rx","RegExp","returnVal","match","withRouter","pokerOptions","poker","blackjackOptions","blackjack","backgammonOptions","backgammon","loduPlay","ludo","playOptions","play","Landing","handleVideo","v","getElementById","videoPlay","nav1","nav2","registrationType","isSignedIn","slider1","slider2","vid","handleGoogle","String","Helmet","lang","spiral","controls","muted","poster","videoThumbnail1","lvvideo","arrow","nftarrow","nft","RegisterClose","playsInline","video","autoPlay","image1","image2","image3","image4","image5","image6","image7","image8","image9","withTranslation","PrivacyPolicy","parse","TermsOfUse","NotFoundPage","App","Provider","Fragment","exact","path","component","isLocalhost","Boolean","hostname","registerValidSW","swUrl","serviceWorker","register","scope","registration","onupdatefound","installingWorker","installing","onstatechange","controller","use","Backend","LanguageDetector","initReactI18next","init","fallbackLng","debug","whitelist","react","useSuspense","interpolation","escapeValue","ReactDOM","StrictMode","fetch","ready","unregister","checkValidServiceWorker"],"mappings":"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","file":"static/js/main.66de3d9b.chunk.js","sourcesContent":["import firebase from \"firebase/app\";\r\nimport \"firebase/auth\";\r\nimport \"firebase/firestore\";\r\nimport \"firebase/storage\";\r\nimport \"firebase/database\";\r\nimport \"firebase/messaging\";\r\n\r\nconst firebaseConfig = {\r\n  apiKey: \"AIzaSyAjgv7ElE6pNyj-IWcuhFu7R6LA8Zhbuow\",\r\n  authDomain: \"mycool-net-app.firebaseapp.com\",\r\n  databaseURL: \"https://mycool-net-app.firebaseio.com\",\r\n  projectId: \"mycool-net-app\",\r\n  storageBucket: \"mycool-net-app.appspot.com\",\r\n  messagingSenderId: \"139027047038\",\r\n  appId: \"1:139027047038:web:17a8142159e30c486dee2f\",\r\n  measurementId: \"G-DD36HCYMCS\",\r\n};\r\n\r\n// Initialize Firebase instance\r\nexport const firebaseApp = firebase.initializeApp(firebaseConfig);\r\n// Initialize other services on firebase instance\r\nfirebase.firestore();\r\nfirebase.storage();\r\nfirebase.database();\r\n\r\nexport default firebase;\r\ntry {\r\n  if (\"Notification\" in window)\r\n    firebase.messaging(firebaseApp).onMessage((payload) => {\r\n      console.log(\"payload =>\", payload);\r\n      const { notification } = payload;\r\n      if (!(\"Notification\" in window)) {\r\n        console.log(\"This browser does not support system notifications\");\r\n      }\r\n      // Let's check whether notification permissions have already been granted\r\n      else if (Notification.permission === \"granted\") {\r\n        // If it's okay let's create a notification\r\n        var notification1 = new Notification(notification.title, {\r\n          ...notification,\r\n          image: \"\",\r\n        });\r\n        notification1.onclick = function (event) {\r\n          event.preventDefault(); // prevent the browser from focusing the Notification's tab\r\n          window.open(payload.notification.click_action, \"_blank\");\r\n          notification1.close();\r\n        };\r\n      }\r\n    });\r\n} catch (error) {\r\n  console.log(\"error in messaging\");\r\n}\r\n","export default __webpack_public_path__ + \"static/media/spiral5.1d062bf7.png\";","export default __webpack_public_path__ + \"static/media/video_thumbnai1.5b625932.webp\";","export default __webpack_public_path__ + \"static/media/feed.b8841f1a.png\";","export default __webpack_public_path__ + \"static/media/feeds-arrow.4dfcf63a.svg\";","export default __webpack_public_path__ + \"static/media/nft-arrow.d4f2d9c9.svg\";","export default __webpack_public_path__ + \"static/media/nft.f4215ac8.png\";","import React from \"react\";\r\n\r\nconst GameContext = {\r\n  friendsList: [],\r\n  blockList: [],\r\n  following: [],\r\n  followers: [],\r\n  feeds: [],\r\n  notification: [],\r\n  setFeeds: () => {},\r\n  setFollowers: () => {},\r\n  setFollowing: () => {},\r\n  setNotification: () => {},\r\n  setBlockList: () => {},\r\n  setFriendList: () => {},\r\n};\r\n\r\nexport const MainContext = React.createContext(GameContext);\r\n","import axios from \"axios\";\r\nimport firebase from \"./firebase\";\r\n\r\nexport const getDoc = async (u) => {\r\n  //u = user.uid\r\n  const res = await axios.get(\"https://get-doc-t3e66zpola-uc.a.run.app/\", {\r\n    params: {\r\n      usid: u,\r\n    },\r\n  });\r\n  if(res.data.success){\r\n  return {\r\n    ...res.data.doc,\r\n\tuserDoc: res.data.userDoc,\r\n    inGame: res.data.inGame,\r\n    inQue: res.data.inQue,\r\n    nextSpinLuckyWheel: res.data.nextSpinLuckyWheel,\r\n\texchangeRate: res.data.exchangeRate,\r\n\tcurrency: res.data.currency,\r\n\tdatetimeNow: res.data.datetimeNow\r\n  };\r\n}else if(u) {\r\n\tconst db = firebase.firestore();\r\n\tconst querySnapshot = await db\r\n\t  .collection(\"users\")\r\n\t  .where(\"nickname\", \"==\", u)\r\n\t  .get();\r\n\t return await getDoc(querySnapshot.docs[0].id)\r\n}\r\n};\r\n\r\n\r\nexport const chatHistory = async (u, p) => {\r\n  //u=uid p=peerId\r\n  var x = [];\r\n  var y = [];\r\n  const db = firebase.firestore();\r\n  const snapshot = await db\r\n    .collection(\"messanger\")\r\n    .doc(u)\r\n    .collection(\"chats\")\r\n    .where(\"from.uid\", \"in\", [u, p])\r\n    .where(\"to\", \"==\", p)\r\n    .orderBy(\"date\", \"asc\")\r\n    .limitToLast(500)\r\n    .get();\r\n  snapshot.forEach(async (doc) => {\r\n    x.push(doc.data());\r\n    await db\r\n      .collection(\"messanger\")\r\n      .doc(u)\r\n      .collection(\"chats\")\r\n      .doc(doc.id)\r\n      .update({\r\n        isRead: true,\r\n      });\r\n  });\r\n\r\n  const snapshot1 = await db\r\n    .collection(\"messanger\")\r\n    .doc(u)\r\n    .collection(\"chats\")\r\n    .where(\"from.uid\", \"in\", [u, p])\r\n    .where(\"to\", \"==\", u)\r\n    .orderBy(\"date\", \"asc\")\r\n    .limitToLast(500)\r\n    .get();\r\n  snapshot1.forEach(async (doc) => {\r\n    x.push(doc.data());\r\n    await db\r\n      .collection(\"messanger\")\r\n      .doc(u)\r\n      .collection(\"chats\")\r\n      .doc(doc.id)\r\n      .update({\r\n        isRead: true,\r\n      });\r\n  });\r\n  const chat = x.concat(y);\r\n  chat.sort((a, b) => a.date.toDate() - b.date.toDate());\r\n  return chat;\r\n};\r\n\r\nexport const getBaseStats = async (coll, u) => {\r\n  //u = user.uid\r\n  const res = await axios.get(\"https://get-doc-t3e66zpola-uc.a.run.app/\", {\r\n    params: {\r\n      coll,\r\n      usid: u,\r\n    },\r\n  });\r\n  console.log(\"outside promise:\", res.data);\r\n  return res.data.doc;\r\n};\r\n\r\nexport const getFriendsOfuser = async (u) => {\r\n  //u = user.uid\r\n  var res = [];\r\n  var myUid;\r\n  var myNick;\r\n  const db = firebase.firestore();\r\n  const querySnapshot = await db\r\n    .collection(\"users\")\r\n    .doc(u)\r\n    .collection(\"items\")\r\n    .where(\"type\", \"==\", \"friend\")\r\n    .get();\r\n  querySnapshot.forEach(async (doc) => {\r\n    myUid = doc.get(\"id\");\r\n    const nick = await db.collection(\"users\").doc(myUid).get();\r\n    myNick = nick.data().nickname;\r\n    res.push({ value: myNick, label: myNick, id: doc.get(\"id\") });\r\n  });\r\n  return res;\r\n};\r\n\r\nexport const getFriendsPicker = async (u) => {\r\n  //u = user.uid\r\n  var uids = [];\r\n  const db = firebase.firestore();\r\n  const querySnapshot = await db\r\n    .collection(\"users\")\r\n    .doc(u)\r\n    .collection(\"items\")\r\n    .get();\r\n  querySnapshot.forEach((doc) => {\r\n    uids.push(doc.get(\"id\"));\r\n  });\r\n\r\n  const res = uids.map(async (uid) => {\r\n    const nick = await db.collection(\"users\").doc(uid).get();\r\n    const n = nick.data().nickname;\r\n    return { value: n, label: n, id: uid };\r\n  });\r\n  return res;\r\n};\r\n\r\nexport const getPeopleUKnow = async (uid) => {\r\n  try {\r\n    const db = firebase.firestore();\r\n    // get friends\r\n    let friend = [];\r\n    let myfriend = [];\r\n    let list = [];\r\n    //const all_relations = [\"friend\", \"blocked friend\", \"follower\", \"following\", \"removed follower\"];\r\n    let item = await db\r\n      .collection(\"users\")\r\n      .doc(uid)\r\n      .collection(\"items\")\r\n      .where(\"type\", \"==\", \"friend\")\r\n      .get();\r\n    item.forEach(async (doc) => {\r\n      myfriend.push({\r\n        uid: doc.id,\r\n      });\r\n    });\r\n    list = [...myfriend];\r\n    if (myfriend.length > 4) {\r\n      const shuffled = myfriend.sort(() => 0.5 - Math.random());\r\n\r\n      // Get sub-array of first n elements after shuffled\r\n      myfriend = shuffled.slice(0, 8);\r\n      for (const fr of myfriend) {\r\n        let hisfr = [];\r\n        let hisFriend = await db\r\n          .collection(\"users\")\r\n          .doc(fr.uid)\r\n          .collection(\"items\")\r\n          .where(\"type\", \"==\", \"friend\")\r\n          .get();\r\n        hisFriend.forEach((doc) => {\r\n          let d = doc.data();\r\n          hisfr.push({\r\n            uid: doc.id,\r\n            name: d.nickname,\r\n            frRelated: getRelatedFriendCount(doc.id, list, uid),\r\n            image: d.photoURL,\r\n          });\r\n        });\r\n        for (const his of hisfr) {\r\n          if (\r\n            !list.find(\r\n              (ele) =>\r\n                ele.uid === his.uid &&\r\n                his.uid !== uid &&\r\n                his.uid !== \"777-our-VEGAS-BOT-uid-777\"\r\n            )\r\n          ) {\r\n            friend.push(his);\r\n          }\r\n        }\r\n      }\r\n    } else if (myfriend.length > 0 && myfriend.length <= 4) {\r\n      myfriend.forEach(async (my) => {\r\n        const hisFriend = await db\r\n          .collection(\"users\")\r\n          .doc(my.uid)\r\n          .collection(\"items\")\r\n          .where(\"type\", \"==\", \"friend\")\r\n          .get();\r\n        hisFriend.forEach(async (his) => {\r\n          if (\r\n            !list.find(\r\n              (ele) =>\r\n                ele.uid === his.id &&\r\n                his.id !== uid &&\r\n                his.id !== \"777-our-VEGAS-BOT-uid-777\"\r\n            )\r\n          ) {\r\n            let data = his.data();\r\n            friend.push({\r\n              uid: his.id,\r\n              name: data.nickname,\r\n              frRelated: await getRelatedFriendCount(his.id, myfriend, uid),\r\n              image: data.avatar,\r\n            });\r\n          }\r\n        });\r\n      });\r\n    } else {\r\n      const user = await db.collection(\"users\").get();\r\n      user.forEach((item) => {\r\n        if (item.id !== uid && item.id !== \"777-our-VEGAS-BOT-uid-777\") {\r\n          let data = item.data();\r\n          friend.push({\r\n            uid: item.id,\r\n            name: data.nickname,\r\n            frRelated: 0,\r\n            image: data.avatar,\r\n          });\r\n        }\r\n      });\r\n    }\r\n    const shuffled = friend.sort(() => 0.5 - Math.random());\r\n    friend = shuffled.slice(0, 8);\r\n    return friend;\r\n  } catch (err) {\r\n    return [];\r\n  }\r\n};\r\n\r\nexport const getRelatedFriendCount = async (he, myfr, myId) => {\r\n  const db = firebase.firestore();\r\n  const hisFriend = await db\r\n    .collection(\"users\")\r\n    .doc(he)\r\n    .collection(\"items\")\r\n    .where(\"type\", \"==\", \"friend\")\r\n    .get();\r\n  let count = 0;\r\n  hisFriend.forEach((item) => {\r\n    if (\r\n      item.id !== \"777-our-VEGAS-BOT-uid-777\" &&\r\n      item.id !== myId &&\r\n      myfr.find((ele) => ele.uid === item.id)\r\n    ) {\r\n      count = count + 1;\r\n    }\r\n  });\r\n  return 0;\r\n};\r\n\r\nexport const getPurchasedItem = async (myId) => {\r\n  try {\r\n    let arr = [];\r\n    const db = firebase.firestore();\r\n    const items = await db\r\n      .collection(\"users\")\r\n      .doc(myId)\r\n      .collection(\"items\")\r\n      .where(\"type\", \"==\", \"avatar-frame\")\r\n      .get();\r\n    items.forEach((item) => {\r\n      arr.push(item.data());\r\n    });\r\n    return arr;\r\n  } catch (error) {\r\n    console.log(\"Error in getPurchased Item =>\", error.message);\r\n  }\r\n};\r\n\r\n// time calculation\r\nexport const timeDifference = (time1) => {\r\n  const current = new Date();\r\n  const previous = new Date(time1);\r\n  let msPerMinute = 60 * 1000;\r\n  let msPerHour = msPerMinute * 60;\r\n  let msPerDay = msPerHour * 24;\r\n  let msPerMonth = msPerDay * 30;\r\n  let msPerYear = msPerDay * 365;\r\n\r\n  let elapsed = current - previous;\r\n\r\n  if (elapsed < msPerMinute) {\r\n    return Math.round(elapsed / 1000) + \" seconds ago\";\r\n  } else if (elapsed < msPerHour) {\r\n    return Math.round(elapsed / msPerMinute) + \" minutes ago\";\r\n  } else if (elapsed < msPerDay) {\r\n    return Math.round(elapsed / msPerHour) + \" hours ago\";\r\n  } else if (elapsed < msPerMonth) {\r\n    return Math.round(elapsed / msPerDay) + \" days ago\";\r\n  } else if (elapsed < msPerYear) {\r\n    return Math.round(elapsed / msPerMonth) + \" months ago\";\r\n  } else {\r\n    return Math.round(elapsed / msPerYear) + \" years ago\";\r\n  }\r\n};\r\n\r\nexport const getPost = async (uid, value, paginate, page) => {\r\n  const res = await axios.get(\"https://show-feed-t3e66zpola-uc.a.run.app/\", {\r\n    params: {\r\n      usid: uid,\r\n      paginate: paginate,\r\n      page: page,\r\n    },\r\n  });\r\n  if (res.data.error === \"no error\") {\r\n    return res.data.FeedArray;\r\n  } else return res.data;\r\n};\r\n\r\nexport const updateReadNotification = async (uid, notiId) => {\r\n  console.log(\"update call =>\", uid);\r\n  const db = firebase.firestore();\r\n   await db\r\n    .collection(\"messanger\")\r\n    .doc(uid)\r\n    .collection(\"noti\").doc(notiId).update({\r\n\t\tisRead: true\r\n\t})\r\n//  notifiy.forEach(async (doc) => {\r\n//    await db\r\n//      .collection(\"messanger\")\r\n//      .doc(uid)\r\n//      .collection(\"noti\")\r\n//      .doc(doc.id)\r\n//      .update({\r\n//        isRead: true,\r\n//      });\r\n//  });\r\n};\r\n\r\nexport const getImage = (img) => {\r\n  return (\r\n    \"https://storage.googleapis.com/mycool-net-app.appspot.com/\" +\r\n    img.split(\".com/\")[1]\r\n  );\r\n};\r\n\r\nexport const getFeed = async (uid, postId) => {\r\n  try {\r\n    console.log(\"uidddd\", uid, postId);\r\n    const res = await axios.get(\r\n      \"https://single-post-t3e66zpola-uc.a.run.app/\",\r\n      {\r\n        params: {\r\n          usid: uid,\r\n          postId,\r\n        },\r\n      }\r\n    );\r\n    if (res.data.error === \"no error\") {\r\n      return res.data;\r\n    }\r\n    return res.data;\r\n  } catch (error) {\r\n    console.log(\"Error in get feed\", error);\r\n  }\r\n};\r\n\r\nexport const getTimeline = async (ownerUid, uid, paginate, page) => {\r\n  try {\r\n    const res = await axios.get(\"https://timeline-t3e66zpola-uc.a.run.app/\", {\r\n      params: {\r\n        ownerUid,\r\n        usid: uid,\r\n        paginate,\r\n        page,\r\n      },\r\n    });\r\n    if (res.data.error === \"no error\") {\r\n      return { post: res.data.FeedArray, count: res.data.queryCount };\r\n    }\r\n    return res.data;\r\n  } catch (error) {\r\n    console.log(\"Error in getTimeline =>\", error);\r\n  }\r\n};\r\n","import axios from \"axios\";\r\nimport React, { useEffect, useState, useContext } from \"react\";\r\n// import { Button } from \"react-bootstrap\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { MainContext } from \"../../context\";\r\nimport { updateReadNotification } from \"../../dbFetchFunctions\";\r\n// import axios from \"axios\";\r\nimport \"./index.css\";\r\n\r\nconst Bell = (props) => {\r\n  const history = useHistory();\r\n  const [state, setState] = useState({\r\n    Uid: props.uid,\r\n    redirect: null,\r\n    notification: props.notification,\r\n    unreadCount: props.unreadCount,\r\n    idToken: props.idToken,\r\n  });\r\n  const context1 = useContext(MainContext);\r\n\r\n  const getNotification = async (token) => {\r\n    const res = await axios.get(\"https://fetch-noti-t3e66zpola-uc.a.run.app/\", {\r\n      headers: {\r\n        idToken: token,\r\n      },\r\n    });\r\n    const context = context1;\r\n\r\n    if (res.data.success) {\r\n      context.setNotification(res.data.notiArray);\r\n      const count = res.data.notiArray.reduce((prev, curr) => {\r\n        return prev + !curr.isRead;\r\n      }, 0);\r\n\r\n      setState({ notification: res.data.notiArray, unreadCount: count });\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    const context = context1;\r\n    if (context.notification.length) {\r\n      const count = context.notification.reduce((prev, curr) => {\r\n        return prev + !curr.isRead;\r\n      }, 0);\r\n\r\n      setState({\r\n        notification: context.notification,\r\n        unreadCount: count,\r\n      });\r\n    } else {\r\n      getNotification(state.idToken);\r\n    }\r\n  // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [props.notification]);\r\n\r\n  // const goToFeed = () => {\r\n  //   const pathname = window.location.pathname;\r\n  //   if (pathname !== \"/feed\") history.push(\"/feed\");\r\n  // };\r\n  return (\r\n    <div className=\"notification-box box\">\r\n      <div className=\"notifications\">\r\n        <i className=\"fa fa-bell\"></i>\r\n        {state.unreadCount ? (\r\n          <span className=\"num\">{state.unreadCount} {\" \"}</span>\r\n        ) : (\r\n          \"\"\r\n        )}\r\n        \r\n        <ul className=\"ul-bell\">\r\n          {state.notification && state.notification.length !== 0 ? (\r\n            state.notification.map((noti, i) => (\r\n              <li\r\n                className={`icon ${noti.isRead ? \"\" : \"unread\"}`}\r\n                key={noti.date + i}\r\n              >\r\n                <span\r\n                  className=\"icon\"\r\n                  onClick={() => {\r\n                    updateReadNotification(props.uid, noti.docId);\r\n                    history.push(`/userprofile/${noti.uid}`);\r\n                  }}\r\n                >\r\n                  <img\r\n                    className=\"notification-img\"\r\n                    src={noti.photo}\r\n                    alt=\"notified-user-LV\"\r\n                  />\r\n                </span>\r\n                <span\r\n                  className=\"text\"\r\n                  onClick={() => {\r\n                    updateReadNotification(props.uid, noti.docId);\r\n                    history.push(`/feed-detail/${noti.uid}/${noti.postId}`);\r\n                  }}\r\n                >\r\n                  {noti.text}\r\n                </span>\r\n              </li>\r\n            ))\r\n          ) : (\r\n            <li>\r\n              <span className=\"text\">No notification</span>\r\n            </li>\r\n          )}\r\n        </ul>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Bell;\r\n","export default __webpack_public_path__ + \"static/media/logo-new.182ee9f4.svg\";","export default __webpack_public_path__ + \"static/media/in.a8b035d6.svg\";","export default __webpack_public_path__ + \"static/media/us.8412fb03.svg\";","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAYAAACOEfKtAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyRpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDYuMC1jMDA2IDc5LmRhYmFjYmIsIDIwMjEvMDQvMTQtMDA6Mzk6NDQgICAgICAgICI+IDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+IDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bXA6Q3JlYXRvclRvb2w9IkFkb2JlIFBob3Rvc2hvcCAyMi40IChXaW5kb3dzKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpDOEEyMTdFREE0NUMxMUVDQTQyQ0M4MUNFNkY2M0IyNiIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDpDOEEyMTdFRUE0NUMxMUVDQTQyQ0M4MUNFNkY2M0IyNiI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkM4QTIxN0VCQTQ1QzExRUNBNDJDQzgxQ0U2RjYzQjI2IiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOkM4QTIxN0VDQTQ1QzExRUNBNDJDQzgxQ0U2RjYzQjI2Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+thLaDQAACUFJREFUeNrsnQtQ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\"","import React, { useEffect, useContext } from \"react\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport { Navbar, Button, Modal, Spinner, Dropdown } from \"react-bootstrap\";\r\nimport \"./header.css\";\r\nimport axios from \"axios\";\r\nimport firebase from \"../../firebase\";\r\nimport { useState } from \"react\";\r\nimport { MainContext } from \"../../context\";\r\nimport Bell from \"../bell\";\r\nimport logo from \"../../assets/images/header/logo-new.svg\";\r\nimport india from \"../../assets/images/header/in.svg\";\r\nimport us from \"../../assets/images/header/us.svg\";\r\nimport helpicon from \"../../assets/images/register/help.png\";\r\nimport { useTranslation } from \"react-i18next\";\r\n\r\nconst Header = () => {\r\n  const context = useContext(MainContext);\r\n  const [uid, setUid] = useState();\r\n  const [token, setToken] = useState();\r\n  const [notification, setNotification] = useState([]);\r\n  const [unreadCount, setunreadCount] = useState();\r\n  const history = useHistory();\r\n  const [usid] = useState(localStorage.getItem(\"uid\"));\r\n  const [gameLink, setGameLink] = useState(\"\");\r\n  const [leaveTableUrl, setLeaveLink] = useState(\"\");\r\n  const [showInGamePopup, setShowInGamePopup] = useState(false);\r\n  const [loader, setLoader] = useState(false);\r\n  const [stickyHeader, setStickyHeader] = useState(false);\r\n  const [flag, setFlage] = useState(\"hn\");\r\n\r\n  const { t, i18n } = useTranslation();\r\n\r\n  const changeLanguage = (lng) => {\r\n    setFlage(lng);\r\n    i18n.changeLanguage(lng);\r\n  };\r\n\r\n  const watchScroll = () => {\r\n    if (window.scrollY > 0) {\r\n      setStickyHeader(true);\r\n    } else {\r\n      setStickyHeader(false);\r\n    }\r\n  };\r\n  useEffect(() => {\r\n    changeLanguage(flag);\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (window !== undefined && window.screen.width >= 0) {\r\n      window.addEventListener(\"scroll\", watchScroll);\r\n    }\r\n    return () => {\r\n      window.removeEventListener(\"scroll\", watchScroll);\r\n    };\r\n  }, []);\r\n\r\n  const getNotification = async (token) => {\r\n    const res = await axios.get(\"https://fetch-noti-t3e66zpola-uc.a.run.app/\", {\r\n      headers: {\r\n        idToken: token,\r\n      },\r\n    });\r\n    if (res.data.success) {\r\n      context.setNotification(res.data.notiArray);\r\n      const count = res.data.notiArray.reduce((prev, curr) => {\r\n        return prev + !curr.isRead;\r\n      }, 0);\r\n      setNotification(res.data.notiArray);\r\n      setunreadCount(count);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    const checkIsLoggedIn = async () => {\r\n      firebase.auth().onAuthStateChanged(async (user) => {\r\n        if (user) {\r\n          const us = firebase.auth().currentUser;\r\n          const token = await firebase.auth().currentUser.getIdToken(true);\r\n          setToken(token);\r\n          setUid(us.uid);\r\n          getNotification(token);\r\n          const res = await axios.get(\r\n            \"https://check-device-id-t3e66zpola-ez.a.run.app/\",\r\n            {\r\n              headers: {\r\n                idtoken: token,\r\n                device: localStorage.getItem(\"deviceId\"),\r\n              },\r\n            }\r\n          );\r\n          if (res.data) {\r\n            if (res.data.error === \"user logged in other device\")\r\n              doSignout(us.uid, token);\r\n          }\r\n        }\r\n      });\r\n    };\r\n    checkIsLoggedIn();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    const checkInGame = async () => {\r\n      const backgammonCheck = await axios.get(\r\n        `https://backgammon-server01-t3e66zpola-uc.a.run.app/checkUserInGame/${usid}`\r\n      );\r\n      if (backgammonCheck.data.gameStatus === \"InGame\") {\r\n        setShowInGamePopup(true);\r\n        setLeaveLink(backgammonCheck.data.leaveTableUrl);\r\n        setGameLink(backgammonCheck.data.link);\r\n        setTimeout(() => {\r\n          window.location.reload();\r\n        }, 180000);\r\n      }\r\n      const pokerCheck = await axios.get(\r\n        `https://poker-server-t3e66zpola-uc.a.run.app/checkUserInGame/${usid}`\r\n      );\r\n      if (pokerCheck.data.gameStatus === \"InGame\") {\r\n        setShowInGamePopup(true);\r\n        setLeaveLink(pokerCheck.data.leaveTableUrl);\r\n        setGameLink(pokerCheck.data.link);\r\n        setTimeout(() => {\r\n          window.location.reload();\r\n        }, 180000);\r\n      }\r\n      const blackJackCheck = await axios.get(\r\n        `https://blackjack-server-t3e66zpola-uc.a.run.app/checkUserInGame/${usid}`\r\n      );\r\n      if (blackJackCheck.data.gameStatus === \"InGame\") {\r\n        setShowInGamePopup(true);\r\n        setLeaveLink(blackJackCheck.data.leaveTableUrl);\r\n        setGameLink(blackJackCheck.data.link);\r\n        setTimeout(() => {\r\n          window.location.reload();\r\n        }, 180000);\r\n      }\r\n\r\n      const ludoCheck = await axios.get(\r\n        `https://ludo-server-t3e66zpola-uc.a.run.app/checkUserInGame/${usid}`\r\n      );\r\n      console.log(ludoCheck, \"fghfhfg\");\r\n      if (ludoCheck.data.gameStatus === \"InGame\") {\r\n        setShowInGamePopup(true);\r\n        setLeaveLink(ludoCheck.data.leaveTableUrl);\r\n        setGameLink(ludoCheck.data.link);\r\n        setTimeout(() => {\r\n          window.location.reload();\r\n        }, 180000);\r\n      }\r\n    };\r\n    if (usid) {\r\n      checkInGame();\r\n    }\r\n  }, [usid]);\r\n\r\n  const handleLeave = async () => {\r\n    setLoader(true);\r\n    const res = await axios.get(leaveTableUrl);\r\n    if (res.status === 200) {\r\n      window.location.reload();\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    const getFeedListener = async () => {\r\n      const db = firebase.firestore();\r\n      if (!uid) return;\r\n      db.collection(\"messanger\")\r\n        .doc(uid)\r\n        .collection(\"noti\")\r\n        .onSnapshot(async (snapshot) => {\r\n          if (snapshot.docs.length < 1) {\r\n            return 0;\r\n          }\r\n          getNotification(token);\r\n        });\r\n    };\r\n    getFeedListener();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [uid, token]);\r\n\r\n  const doSignout = (uid, token) => {\r\n    axios\r\n      .get(\"https://base-api-t3e66zpola-uk.a.run.app/\", {\r\n        params: {\r\n          usid: uid,\r\n          service: \"signout\",\r\n          params: `usid=${uid}`,\r\n        },\r\n        headers: { idtoken: token },\r\n      })\r\n      .then((response) => {\r\n        if (response.data.error === \"no error\") {\r\n          firebase\r\n            .auth()\r\n            .signOut()\r\n            .then(() => {\r\n              window.location.href = \"/login\";\r\n            })\r\n            .catch((error) => {\r\n              console.log(error);\r\n            });\r\n        } else {\r\n          console.log(\"req failed: \", response.data);\r\n        }\r\n      })\r\n      .catch((error) => {\r\n        console.log(\"Error req\", error);\r\n      });\r\n  };\r\n\r\n  const pathname = window.location.pathname;\r\n  const splitLocation = pathname.split(\"/\");\r\n  const xtkn = localStorage.getItem(\"xtkn\");\r\n\r\n  if (pathname === \"/login\") {\r\n    return (\r\n      <div\r\n        className={`header help-center-header ${\r\n          stickyHeader ? \"sticky-header\" : \"\"\r\n        }`}\r\n      >\r\n        <div className='header-top-area'>\r\n          <div className='container'>\r\n            <div className='header-wrapper'>\r\n              <div className='logo'>\r\n                <a href='https://las-vegas.com/profile'>\r\n                  <img src={logo} alt='logo' />\r\n                </a>\r\n              </div>\r\n\r\n              <div className='auth-btns'>\r\n                <a href='https://las-vegas.com/login' className='login-btn'>\r\n                  {t(\"landing.login\")}\r\n                </a>\r\n                <Link to='/' className='signup-btn'>\r\n                  Register\r\n                </Link>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className='help-desk-icon'>\r\n          <span\r\n            onClick={() => {\r\n              history.push(\"/help-center\");\r\n            }}\r\n            role='presentation'\r\n          >\r\n            <img src={helpicon} alt='help' />\r\n          </span>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (pathname === \"/reset_password\") {\r\n    return (\r\n      <div className={`header ${stickyHeader ? \"sticky-header\" : \"\"}`}></div>\r\n    );\r\n  }\r\n\r\n  if (pathname === \"/\") {\r\n    return (\r\n      <div\r\n        className={`header help-center-header ${\r\n          stickyHeader ? \"sticky-header\" : \"\"\r\n        }`}\r\n      >\r\n        <div className='header-top-area'>\r\n          <div className='container'>\r\n            <div className='header-wrapper'>\r\n              <div className='logo'>\r\n                <a href='https://las-vegas.com/profile'>\r\n                  <img src={logo} alt='logo' />\r\n                </a>\r\n              </div>\r\n              <div className='header-wrapper-right'>\r\n                <div className='auth-btns'>\r\n                  <a href='https://las-vegas.com/login' className='login-btn'>\r\n                    {t(\"landing.login\")}\r\n                  </a>\r\n\r\n                  <a href='https://las-vegas.com' className='signup-btn'>\r\n                    {t(\"landing.register\")}\r\n                  </a>\r\n                </div>\r\n                <div className='language-dropdown'>\r\n                  <Dropdown>\r\n                    <Dropdown.Toggle id='dropdown-basic'>\r\n                      {flag === \"hn\" ? (\r\n                        <img src={india} alt='flag' />\r\n                      ) : (\r\n                        <img src={us} alt='flag' />\r\n                      )}\r\n                    </Dropdown.Toggle>\r\n\r\n                    <Dropdown.Menu>\r\n                      <Dropdown.Item onClick={() => changeLanguage(\"hn\")}>\r\n                        <img src={india} alt='flag' />\r\n                        हिंदी\r\n                      </Dropdown.Item>\r\n                      <Dropdown.Item onClick={() => changeLanguage(\"en\")}>\r\n                        <img src={us} alt='flag' />\r\n                        English\r\n                      </Dropdown.Item>\r\n                    </Dropdown.Menu>\r\n                  </Dropdown>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (xtkn === null && pathname === \"/help-center\") {\r\n    return (\r\n      <div\r\n        className={`header help-center-header ${\r\n          stickyHeader ? \"sticky-header\" : \"\"\r\n        }`}\r\n      >\r\n        <div className='header-top-area'>\r\n          <div className='container'>\r\n            <div className='header-wrapper'>\r\n              <div className='logo'>\r\n                <Link to='/profile'>\r\n                  <img src={logo} alt='logo' />\r\n                </Link>\r\n              </div>\r\n\r\n              <div className='auth-btns'>\r\n                <a href='https://las-vegas.com/login' className='login-btn'>\r\n                  {t(\"landing.login\")}\r\n                </a>\r\n                <Link to='/' className='signup-btn'>\r\n                  Register\r\n                </Link>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className='help-desk-icon'>\r\n          <span\r\n            onClick={() => {\r\n              history.push(\"/help-center\");\r\n            }}\r\n            role='presentation'\r\n          >\r\n            <img src={helpicon} alt='help' />\r\n          </span>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  const getBellIconAndLogin = () => {\r\n    if (pathname === \"/profile\") {\r\n      return (\r\n        <Bell\r\n          uid={uid}\r\n          idToken={token}\r\n          notification={notification}\r\n          unreadCount={unreadCount}\r\n        />\r\n      );\r\n    } else if (pathname === \"/\" || pathname === \"/login\") {\r\n      return (\r\n        <>\r\n          <div className='auth-btns'>\r\n            <a href='https://las-vegas.com/login' className='login-btn'>\r\n              {t(\"landing.login\")}\r\n            </a>\r\n            <Link to='/' className='signup-btn'>\r\n              Register\r\n            </Link>\r\n          </div>\r\n        </>\r\n      );\r\n    }\r\n    return \"\";\r\n  };\r\n\r\n  return (\r\n    <div className={`header ${stickyHeader ? \"sticky-header\" : \"\"}`}>\r\n      <div className='container'>\r\n        <Navbar\r\n          collapseOnSelect\r\n          expand='lg'\r\n          variant='dark'\r\n          style={{ color: \"#191b25\" }}\r\n        >\r\n          <Navbar.Toggle aria-controls='responsive-navbar-nav' />\r\n          <Navbar.Collapse id='responsive-navbar-nav'>\r\n            {\" \"}\r\n            <div className='logo'>\r\n              <Link to='/profile'>\r\n                <img src={logo} alt='logo' />\r\n              </Link>\r\n            </div>{\" \"}\r\n            <div className='header-top-login after-login'>\r\n              <ul>\r\n                <li className=' wow animate__animated animate__slideInUp'>\r\n                  <span\r\n                    className={\r\n                      splitLocation[1] === \"profile\" ? \"activeheader\" : \"false\"\r\n                    }\r\n                    role='presentation'\r\n                  >\r\n                    <Link to='/profile'>\r\n                      <i className='las la-home'></i>\r\n                      <p>GAMES</p>\r\n                    </Link>\r\n                  </span>\r\n                </li>\r\n                <li className=' wow animate__animated animate__slideInUp'>\r\n                  <span\r\n                    className={\r\n                      splitLocation[1] === \"friends\" ? \"activeheader\" : \"false\"\r\n                    }\r\n                    role='presentation'\r\n                  >\r\n                    <Link to='/friends'>\r\n                      <i className='las la-user-friends'></i>\r\n                      <p>Friends</p>\r\n                    </Link>\r\n                  </span>\r\n                </li>\r\n                <li className=' wow animate__animated animate__slideInUp'>\r\n                  <span\r\n                    className={\r\n                      splitLocation[1] === \"feed\" ? \"activeheader\" : \"false\"\r\n                    }\r\n                    role='presentation'\r\n                  >\r\n                    <Link to='/feed'>\r\n                      <i className='las la-comments'></i>\r\n                      <p>FEED</p>\r\n                    </Link>\r\n                  </span>\r\n                </li>\r\n                {(pathname !== \"/\" || pathname !== \"/login\") && (\r\n                  <li className=' wow animate__animated animate__slideInUp'>\r\n                    <span\r\n                      className={\r\n                        splitLocation[1] === \"settings\"\r\n                          ? \"activeheader\"\r\n                          : \"false\"\r\n                      }\r\n                      role='presentation'\r\n                    >\r\n                      <Link to='/settings'>\r\n                        <i className='las la-cog'></i>\r\n                        <p>Settings</p>\r\n                      </Link>\r\n                    </span>\r\n                  </li>\r\n                )}\r\n              </ul>\r\n            </div>\r\n            <div className='bell-section'>{getBellIconAndLogin()}</div>\r\n          </Navbar.Collapse>\r\n        </Navbar>\r\n        {/*<div className=\"header-wrapper main-header-wrapper\">\r\n          <Link to=\"/\">\r\n            {\" \"}\r\n            <div className=\"logo\">\r\n              <img src={logo} alt=\"logo\" />\r\n            </div>{\" \"}\r\n          </Link>\r\n\r\n          <div className=\"auth-btns\">\r\n            <Link to=\"/login\" className=\"login-btn\">\r\n              Login\r\n            </Link>\r\n            <Link to=\"/\" className=\"signup-btn\">\r\n              Register\r\n            </Link>\r\n          </div>\r\n        </div>*/}\r\n      </div>\r\n      {/*<div className=\"show-mob\">\r\n        <Bell\r\n          uid={uid}\r\n          idToken={token}\r\n          notification={notification}\r\n          unreadCount={unreadCount}\r\n        />\r\n      </div>*/}\r\n      {pathname === \"/settings\" ? (\r\n        <div className='help-desk-icon'>\r\n          <span\r\n            onClick={() => {\r\n              history.push(\"/help-center\");\r\n            }}\r\n            role='presentation'\r\n          >\r\n            <img src={helpicon} alt='help' />\r\n          </span>\r\n        </div>\r\n      ) : (\r\n        \"\"\r\n      )}\r\n      <Modal\r\n        show={showInGamePopup}\r\n        centered\r\n        className='friends-popup in-game'\r\n        size='lg'\r\n      >\r\n        <Modal.Body>\r\n          <div className='in-game-popup'>\r\n            <h6>You have an active game</h6>\r\n            <div className='action'>\r\n              <Button\r\n                className='leave-game'\r\n                onClick={handleLeave}\r\n                disabled={loader}\r\n              >\r\n                {loader ? <Spinner animation='border' /> : \"Leave Game\"}\r\n              </Button>\r\n              <Button\r\n                className='btn-gold rejoin-class'\r\n                onClick={() => (window.location.href = gameLink)}\r\n                disabled={loader}\r\n              >\r\n                Rejoin Game\r\n              </Button>\r\n            </div>\r\n          </div>\r\n        </Modal.Body>\r\n      </Modal>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Header;\r\n","export default __webpack_public_path__ + \"static/media/googlePlay.a8aa3fc2.png\";","export default __webpack_public_path__ + \"static/media/iOS.f4c2cc63.png\";","export default __webpack_public_path__ + \"static/media/logo.9f5189da.png\";","const emojis = [\r\n  \"https://storage.googleapis.com/mycool-net-app.appspot.com/emojis/emoji-1.png\",\r\n  \"https://storage.googleapis.com/mycool-net-app.appspot.com/emojis/emoji-2.png\",\r\n  \"https://storage.googleapis.com/mycool-net-app.appspot.com/emojis/emoji-4.png\",\r\n  \"https://storage.googleapis.com/mycool-net-app.appspot.com/emojis/emoji-5.png\",\r\n  \"https://storage.googleapis.com/mycool-net-app.appspot.com/emojis/emoji-6.png\",\r\n  \"https://storage.googleapis.com/mycool-net-app.appspot.com/emojis/emoji-7.png\",\r\n  \"https://storage.googleapis.com/mycool-net-app.appspot.com/emojis/emoji-8.png\",\r\n  \"https://storage.googleapis.com/mycool-net-app.appspot.com/emojis/emoji-9.png\",\r\n  \"https://storage.googleapis.com/mycool-net-app.appspot.com/emojis/emoji-10.png\",\r\n  \"https://storage.googleapis.com/mycool-net-app.appspot.com/emojis/emoji-11.png\",\r\n  \"https://storage.googleapis.com/mycool-net-app.appspot.com/emojis/emoji-12.png\",\r\n  \"https://storage.googleapis.com/mycool-net-app.appspot.com/emojis/emoji-13.png\",\r\n  \"https://storage.googleapis.com/mycool-net-app.appspot.com/emojis/emoji-14.png\",\r\n  \"https://storage.googleapis.com/mycool-net-app.appspot.com/emojis/emoji-15.png\",\r\n  \"https://storage.googleapis.com/mycool-net-app.appspot.com/emojis/emoji-16.png\",\r\n  \"https://storage.googleapis.com/mycool-net-app.appspot.com/emojis/emoji-17.png\",\r\n  \"https://storage.googleapis.com/mycool-net-app.appspot.com/emojis/emoji-18.png\",\r\n  \"https://storage.googleapis.com/mycool-net-app.appspot.com/emojis/emoji-19.png\",\r\n  \"https://storage.googleapis.com/mycool-net-app.appspot.com/emojis/emoji-20.png\",\r\n  \"https://storage.googleapis.com/mycool-net-app.appspot.com/emojis/emoji-21.png\",\r\n  \"https://storage.googleapis.com/mycool-net-app.appspot.com/emojis/emoji-22.png\",\r\n  \"https://storage.googleapis.com/mycool-net-app.appspot.com/emojis/emoji-23.png\",\r\n  \"https://storage.googleapis.com/mycool-net-app.appspot.com/emojis/emoji-24.png\",\r\n  \"https://storage.googleapis.com/mycool-net-app.appspot.com/emojis/emoji-25.png\",\r\n  \"https://storage.googleapis.com/mycool-net-app.appspot.com/emojis/emoji-26.png\",\r\n  \"https://storage.googleapis.com/mycool-net-app.appspot.com/emojis/emoji-27.png\",\r\n  \"https://storage.googleapis.com/mycool-net-app.appspot.com/emojis/emoji-28.png\",\r\n  \"https://storage.googleapis.com/mycool-net-app.appspot.com/emojis/emoji-29.png\",\r\n  \"https://storage.googleapis.com/mycool-net-app.appspot.com/emojis/emoji-30.png\",\r\n  \"https://storage.googleapis.com/mycool-net-app.appspot.com/emojis/emoji-31.png\",\r\n  \"https://storage.googleapis.com/mycool-net-app.appspot.com/emojis/emoji-32.png\",\r\n  \"https://storage.googleapis.com/mycool-net-app.appspot.com/emojis/emoji-33.png\",\r\n  \"https://storage.googleapis.com/mycool-net-app.appspot.com/emojis/emoji-34.png\",\r\n  \"https://storage.googleapis.com/mycool-net-app.appspot.com/emojis/emoji-35.png\",\r\n  \"https://storage.googleapis.com/mycool-net-app.appspot.com/emojis/emoji-36.png\",\r\n];\r\n\r\nexport default emojis;\r\n","import Emojis from \"../../emoji-url\";\r\n\r\nconst EmojiPicker = ({ onEmojiClick }) => {\r\n  return (\r\n    <div className=\"emoji-picker\">\r\n      {Emojis.map((emoji, i) => (\r\n        <div className=\"emoji-img\">\r\n          <img\r\n            src={emoji}\r\n            alt=\"LV-emoji\"\r\n            key={i}\r\n            onClick={(e) => onEmojiClick(e, emoji)}\r\n          />\r\n        </div>\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default EmojiPicker;\r\n","import axios from \"axios\";\r\nimport React, { useState } from \"react\";\r\nimport toast from \"react-hot-toast\";\r\nimport \"./report.css\";\r\n\r\nconst ReportUserPopup = ({ peer, idToken }) => {\r\n  const [step, setStep] = useState();\r\n\r\n  const handleStep = async (value) => {\r\n    console.log(\"peer =>\", peer, idToken);\r\n    toast.success(\"Reporting..\", {\r\n      duration: 6000,\r\n      id: \"blocking-wait\",\r\n      icon: \"♠️\",\r\n      style: {\r\n        borderRadius: \"5px\",\r\n        background: \"#333\",\r\n        color: \"#fff\",\r\n      },\r\n    });\r\n    const res = await axios.get(\r\n      \"https://report-t3e66zpola-uc.a.run.app/reportUser\",\r\n      {\r\n        headers: {\r\n          idtoken: idToken,\r\n        },\r\n        params: {\r\n          frId: peer,\r\n          subject: value,\r\n        },\r\n      }\r\n    );\r\n\r\n    if (res.data.error === \"no error\") {\r\n      toast.success(\"Report submitted successfully.\", {\r\n        duration: 6000,\r\n        id: \"blocking-wait\",\r\n        icon: \"♠️\",\r\n        style: {\r\n          borderRadius: \"5px\",\r\n          background: \"#333\",\r\n          color: \"#fff\",\r\n        },\r\n      });\r\n      setStep(true);\r\n    } else if (res.data.error === \"you cant report this user again\") {\r\n      toast.success(\"You have already reported this user.\", {\r\n        duration: 6000,\r\n        id: \"blocking-wait\",\r\n        icon: \"♠️\",\r\n        style: {\r\n          borderRadius: \"5px\",\r\n          background: \"#333\",\r\n          color: \"#fff\",\r\n        },\r\n      });\r\n      setStep(true);\r\n    }else if(res.data.error !== \"no error\"){\r\n\t\ttoast.success(res.data.error, {\r\n\t\t\tid: \"backend-error\",\r\n\t\t\ticon: \"❌\",\r\n\t\t\tstyle: {\r\n\t\t\t  borderRadius: \"5px\",\r\n\t\t\t  background: \"#333\",\r\n\t\t\t  color: \"#fff\",\r\n\t\t\t},\r\n\t\t  });\r\n\t}\r\n  };\r\n\r\n  return (\r\n    <div className=\"report-user-popup\">\r\n      <div className=\"report-popup\">\r\n        <div className=\"report-popup-header\">\r\n          <h2>Report</h2>\r\n        </div>\r\n\r\n        {!step ? (\r\n          <div className=\"report-popup-content\">\r\n            <h4>Please select a problem</h4>\r\n            <p>\r\n              If you think this text putting you in immediate danger, call local\r\n              emergency services immediately.\r\n            </p>\r\n\r\n            <ul>\r\n              <li onClick={() => handleStep(\"Fake account\")}>Fake account</li>\r\n              <li onClick={() => handleStep(\"Fraud or a scam\")}>\r\n                Fraud or a scam\r\n              </li>\r\n              <li onClick={() => handleStep(\"Texting inappropriate things\")}>\r\n                Texting inappropriate things\r\n              </li>\r\n              <li onClick={() => handleStep(\"Distributing text messages\")}>\r\n                Distributing text messages\r\n              </li>\r\n              <li onClick={() => handleStep(\"Something else\")}>\r\n                Something else\r\n              </li>\r\n            </ul>\r\n          </div>\r\n        ) : (\r\n          <div className=\"report-popup-success\">\r\n            <h4>You have Report this Person successfully.</h4>\r\n            <p>\r\n              Thank you for letting us know! We review your resume carefully,\r\n              and we will take action according to the user behavior.\r\n            </p>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\nexport default ReportUserPopup;\r\n","import React from \"react\";\r\nimport \"./report.css\";\r\n\r\nconst BlockUserPopUp = ({ nickname, handleBlock, handleClose }) => {\r\n  return (\r\n    <div className=\"report-user-popup\">\r\n      <div className=\"report-popup\">\r\n        <div className=\"report-popup-header\">\r\n          <h2>Block @{nickname.toUpperCase()}</h2>\r\n        </div>\r\n\r\n        <div className=\"block-popup-content\">\r\n          <p>\r\n            Blocking <b>@{nickname.toUpperCase()}</b> on Las-Vegas will\r\n            completely blind that person within your profile and theirs, they\r\n            will not come up in your network.\r\n          </p>\r\n          <div className=\"action-block\">\r\n            <button\r\n              className=\"btn-dark btn btn-primary\"\r\n              onClick={() => handleClose()}\r\n            >\r\n              Cancel\r\n            </button>\r\n            <button\r\n              style={{ height: \"35px\" }}\r\n              className=\"btn-gold btn btn-primary\"\r\n              onClick={handleBlock}\r\n            >\r\n              Confirm\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\nexport default BlockUserPopUp;\r\n","import React, { useEffect, useState, useRef, useContext } from \"react\";\r\nimport { Form, Button, Modal, Dropdown, DropdownButton } from \"react-bootstrap\";\r\n//import { Link } from \"react-router-dom\";\r\nimport toast from \"react-hot-toast\";\r\nimport user1 from \"../../assets/images/header/logo.png\";\r\nimport \"./chat.css\";\r\nimport firebase from \"../../firebase\";\r\nimport { chatHistory } from \"../../dbFetchFunctions\";\r\nimport axios from \"axios\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport EmojiPicker from \"./Emoji-picker\";\r\nimport ReportUserPopup from \"../reportpopup/reportuserpopup\";\r\nimport BlockUserPopUp from \"../reportpopup/blockUser\";\r\nimport { MainContext } from \"../../context\";\r\n\r\nconst Chat = ({ open, handleClick }) => {\r\n  const [usid] = useState(firebase.auth()?.currentUser?.uid);\r\n  const [nick] = useState(firebase.auth()?.currentUser?.displayName);\r\n  const [peer, setPeer] = useState(\"\");\r\n  // const [photoUri, setPhotoUri] = useState([\"\", \"\"]);\r\n  const [show, setShow] = useState(true);\r\n  const [chatHist, setChatHist] = useState([]);\r\n  const [userPhoto, setuserPhoto] = useState(\"\");\r\n  const [peerPhoto, setPeerPhoto] = useState(\"\");\r\n  const [peername, setpeername] = useState(\"\");\r\n  const [idToken, setIdToken] = useState();\r\n  useEffect(() => {\r\n    const img = firebase.auth()?.currentUser?.photoURL;\r\n    const hdd = firebase.storage();\r\n    if (img) {\r\n      const gsRef = hdd.refFromURL(img);\r\n      gsRef.getDownloadURL().then((url) => setuserPhoto(url));\r\n    }\r\n  }, []);\r\n\r\n  const [last_unread, setLast_unread] = useState({\r\n    uPeers: [],\r\n    last: [],\r\n    unread: [],\r\n    urCount: [],\r\n  });\r\n\r\n  useEffect(() => {\r\n    const getChatPeers = async (u) => {\r\n      const db = firebase.firestore();\r\n\r\n      db.collection(\"messanger\")\r\n        .doc(u)\r\n        .collection(\"chats\")\r\n        .where(\"to\", \"==\", u)\r\n        .orderBy(\"date\", \"desc\")\r\n        .onSnapshot(async (snapshot) => {\r\n          if (snapshot.docs.length < 1) {\r\n            return 0;\r\n          }\r\n          let newPeer = \"\";\r\n          var uniqueChatPeers = [];\r\n          var x = [];\r\n          var y = [];\r\n          var z = [];\r\n          var maxX;\r\n          var maxY;\r\n          var c = 0;\r\n\r\n          snapshot.forEach(async (doc) => {\r\n            newPeer = doc.get(\"from.uid\");\r\n            if (uniqueChatPeers.find((ele) => ele.id === newPeer)) {\r\n              if (doc.get(\"isRead\") === false) {\r\n                let le = z.length - 1;\r\n                z[le] = z[le] + 1;\r\n                if (doc.get(\"date\").seconds > maxY) {\r\n                  maxY = doc.get(\"date\").seconds;\r\n                  y[le] = doc.data();\r\n                }\r\n              } else {\r\n                if (doc.get(\"date\").seconds > maxX) {\r\n                  maxX = doc.get(\"date\").seconds;\r\n                  let la = x.length - 1;\r\n                  x[la] = doc.data();\r\n                }\r\n              }\r\n            } else {\r\n              c = 0;\r\n              uniqueChatPeers.push({ id: newPeer });\r\n\r\n              // last and unred messages:\r\n              if (doc.get(\"isRead\") === false) {\r\n                c++;\r\n                y.push(doc.data());\r\n                maxY = doc.get(\"date\").seconds;\r\n                x.push(doc.data());\r\n                maxX = maxY;\r\n                z.push(c);\r\n              } else {\r\n                z.push(c);\r\n                x.push(doc.data());\r\n                maxX = doc.get(\"date\").seconds;\r\n              }\r\n            }\r\n          });\r\n          if (y.length === 1 && peer === y[0].from.uid) {\r\n            y = [];\r\n            z = [];\r\n          }\r\n          let index = x.findIndex(\r\n            (ele) => ele.from.uid === \"777-our-VEGAS-BOT-uid-777\"\r\n          );\r\n          let botCount = z.splice(index, 1);\r\n          let bot = x.splice(index, 1);\r\n          x.splice(0, 0, bot[0]);\r\n          z.splice(0, 0, botCount);\r\n          //  const blockedPeer = await db\r\n          //    .collection(\"users\")\r\n          //    .doc(u)\r\n          //    .collection(\"items\")\r\n          //    .where(\"type\", \"==\", \"blocked friend\")\r\n          //    .get();\r\n          //  if (blockedPeer.docs.length > 0) {\r\n          //    blockedPeer.forEach((blocked) => {\r\n          //      let index = x.findIndex(\r\n          //        (ele) => ele.from.uid === blocked.data().id\r\n          //      );\r\n          //      if (index !== -1) {\r\n          //         z.splice(index, 1);\r\n          //        x.splice(index, 1);\r\n          //        y = y.filter(uniq => uniq.from.uid !== blocked.data().id)\r\n          //      }\r\n          //    });\r\n          //  }\r\n          setLast_unread({\r\n            uPeers: uniqueChatPeers,\r\n            last: x,\r\n            unread: y,\r\n            urCount: z,\r\n          });\r\n          let activePeers = [];\r\n          for await (let doc of uniqueChatPeers) {\r\n            let activeStatus = \"offline\";\r\n            const sessions = await db\r\n              .collection(\"users\")\r\n              .doc(doc.id)\r\n              .collection(\"Sessions\")\r\n              .where(\"date.close\", \"==\", null)\r\n              .get();\r\n            sessions.forEach(async (session) => {\r\n              let a = session.data();\r\n              if (a.agent.status === \"online\") {\r\n                activeStatus = \"online\";\r\n              } else if (a.agent.status === \"offline\") {\r\n                activeStatus = \"offline\";\r\n              } else {\r\n                activeStatus = \"inGame\";\r\n              }\r\n            });\r\n            activePeers.push({ id: doc.id, activeStatus });\r\n          }\r\n          setLast_unread({\r\n            uPeers: activePeers,\r\n            last: x,\r\n            unread: y,\r\n            urCount: z,\r\n          });\r\n        });\r\n    };\r\n\tif(usid)\r\n    getChatPeers(usid);\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  const getChatHist = async (peerId, img, name) => {\r\n    setPeer(peerId);\r\n    setIdToken(await firebase.auth().currentUser.getIdToken(true));\r\n    setShow(false);\r\n    setPeerPhoto(img);\r\n    setpeername(name);\r\n    const msg = await chatHistory(usid, peerId);\r\n    setChatHist(msg);\r\n  };\r\n\r\n  const handleBackClick = async () => {\r\n    setChatHist([]);\r\n    setPeer(\"\");\r\n    setPeerPhoto(\"\");\r\n    setShow(true);\r\n    setpeername(\"\");\r\n  };\r\n\r\n  // const imgUser = firebase.auth( ).currentUser.photoURL;\r\n\r\n  const [view, setView] = useState(false);\r\n\r\n  const handleClose = () => setView(false);\r\n  const handleShow = (value) => setView(value);\r\n  const handleBlock = () => {\r\n    toast.success(\"Blocking..\", {\r\n      duration: 5000,\r\n      id: \"blocking-wait\",\r\n      icon: \"♠️\",\r\n      style: {\r\n        borderRadius: \"5px\",\r\n        background: \"#333\",\r\n        color: \"#fff\",\r\n      },\r\n    });\r\n\r\n    axios\r\n      .get(\"https://base-api-t3e66zpola-uk.a.run.app\", {\r\n        params: {\r\n          usid: peer,\r\n          service: \"blockUser\",\r\n          params: \"usid=\" + usid + \",block=\" + peer + \",type=block\",\r\n        },\r\n        headers: { idtoken: idToken },\r\n      })\r\n      .then((response) => {\r\n        if (response.data) {\r\n          const myError = response.data.error;\r\n\r\n          if (myError === \"no error\") {\r\n            toast.success(\"Your friend just been blocked!\", {\r\n              duration: 6000,\r\n              id: \"friend-blocked\",\r\n              icon: \"✔️\",\r\n              style: {\r\n                borderRadius: \"5px\",\r\n                background: \"#333\",\r\n                color: \"#fff\",\r\n              },\r\n            });\r\n\r\n            handleClose();\r\n          }\r\n        } else {\r\n          console.log(\"Backend response failed: \", response.statusText);\r\n        }\r\n      })\r\n      .catch((error) => {\r\n        console.log(\"Error req\", error);\r\n      });\r\n  };\r\n  if(!usid)\r\nreturn \"\"\r\n\r\n  return (\r\n    <div className={`chat-wrapper ${!open ? `expand` : ``}`}>\r\n      <div className=\"chat-section\">\r\n        <div className=\"chat-header\">\r\n          {last_unread.unread.length > 0 ? (\r\n            <span className=\"unread-alert\">{last_unread.unread.length}</span>\r\n          ) : (\r\n            \"\"\r\n          )}\r\n          <span className=\"chat-author\">\r\n            {peerPhoto === \"\" ? (\r\n              <div className=\"report-post\" onClick={() => handleClick(!open)}>\r\n                <img\r\n                  src={\r\n                    peerPhoto !== \"\"\r\n                      ? peerPhoto\r\n                      : userPhoto !== \"\"\r\n                      ? userPhoto\r\n                      : user1\r\n                  }\r\n                  alt=\"user\"\r\n                />\r\n                {peername !== \"\" ? peername : \"Messaging\"}\r\n              </div>\r\n            ) : (\r\n              <div className=\"report-post\">\r\n                <DropdownButton\r\n                  id=\"dropdown-basic-button\"\r\n                  title={\r\n                    <>\r\n                      <img\r\n                        src={\r\n                          peerPhoto !== \"\"\r\n                            ? peerPhoto\r\n                            : userPhoto !== \"\"\r\n                            ? userPhoto\r\n                            : user1\r\n                        }\r\n                        alt=\"user\"\r\n                      />\r\n                      {peername !== \"\" ? peername : \"Messaging\"}\r\n                    </>\r\n                  }\r\n                >\r\n                  <Dropdown.Item onClick={() => handleShow(\"report\")}>\r\n                    <div className=\"reort-post-item\">\r\n                      <i\r\n                        className=\"fa fa-exclamation-triangle\"\r\n                        aria-hidden=\"true\"\r\n                      ></i>\r\n                      <div className=\"reort-post-item-content\">\r\n                        <h6>Report User</h6>\r\n                        <p>I'm concerned about this user</p>\r\n                      </div>\r\n                    </div>\r\n                  </Dropdown.Item>\r\n                  <Dropdown.Item onClick={() => handleShow(\"block\")}>\r\n                    <div className=\"reort-post-item\">\r\n                      <i className=\"fa fa-ban\" aria-hidden=\"true\"></i>\r\n                      <div className=\"reort-post-item-content\">\r\n                        <h6>Block</h6>\r\n                        <p>I'm concerned about this user</p>\r\n                      </div>\r\n                    </div>\r\n                  </Dropdown.Item>\r\n                </DropdownButton>\r\n              </div>\r\n            )}\r\n          </span>\r\n          {/*<img src={userPhoto !== \"\" ? userPhoto : user1} alt=\"user\" />\r\n            Messaging\r\n          </span>*/}\r\n          {!show && (\r\n            <div\r\n              className=\"chat-back\"\r\n              onClick={() => handleBackClick()}\r\n              role=\"presentation\"\r\n            >\r\n              <i className=\"fa fa-angle-left\" />\r\n            </div>\r\n          )}\r\n          <span\r\n            className=\"close-icon\"\r\n            onClick={() => handleClick(!open)}\r\n            role=\"presentation\"\r\n          >\r\n            <i className={`fa fa-${!open ? `angle-up` : `angle-down`}`} />\r\n          </span>\r\n        </div>\r\n        {show ? (\r\n          <ChatUserList\r\n            setShow={setShow}\r\n            setPeer={setPeer}\r\n            last_unread={last_unread}\r\n            getChatHist={getChatHist}\r\n          />\r\n        ) : (\r\n          <SingleChatUser\r\n            usid={usid}\r\n            nick={nick}\r\n            userPhoto={userPhoto}\r\n            peer={peer}\r\n            chatHist={chatHist}\r\n            setChatHist={setChatHist}\r\n            getChatHist={getChatHist}\r\n          />\r\n        )}\r\n      </div>\r\n\r\n      <Modal\r\n        show={view === \"report\"}\r\n        onHide={handleClose}\r\n        centered\r\n        className=\"report-popup\"\r\n      >\r\n        <Modal.Header closeButton> </Modal.Header>\r\n        <Modal.Body>\r\n          <ReportUserPopup peer={peer} idToken={idToken} />\r\n        </Modal.Body>\r\n      </Modal>\r\n      <Modal\r\n        show={view === \"block\"}\r\n        onHide={handleClose}\r\n        centered\r\n        className=\"report-popup\"\r\n      >\r\n        <Modal.Header closeButton> </Modal.Header>\r\n        <Modal.Body>\r\n          <BlockUserPopUp\r\n            handleClose={handleClose}\r\n            nickname={peername}\r\n            handleBlock={handleBlock}\r\n          />\r\n        </Modal.Body>\r\n      </Modal>\r\n    </div>\r\n  );\r\n};\r\nexport default Chat;\r\n\r\nconst ChatUserList = ({ last_unread, getChatHist }) => {\r\n  const [filterUsers, setFilterUser] = useState(last_unread.last);\r\n  const [count, setCount] = useState(last_unread.urCount);\r\n  const [uPeers, setUPeers] = useState(last_unread.uPeers);\r\n\r\n  useEffect(() => {\r\n    setFilterUser(last_unread.last);\r\n    setCount(last_unread.urCount);\r\n    setUPeers(last_unread.uPeers);\r\n  }, [last_unread]);\r\n  const handleSearch = (event) => {\r\n    let value = event.target.value.toLowerCase();\r\n    if (value.length > 0)\r\n      setFilterUser(\r\n        filterUsers.filter(\r\n          (peer) => peer.from.name.toLowerCase().search(value) !== -1\r\n        )\r\n      );\r\n    else setFilterUser(last_unread.last);\r\n  };\r\n  return (\r\n    <div className=\"chat-content\">\r\n      <div className=\"chat-search\">\r\n        <Form inline>\r\n          <Form.Control\r\n            type=\"text\"\r\n            onChange={(event) => handleSearch(event)}\r\n            placeholder=\"Search User\"\r\n          />\r\n          <Button>\r\n            <i className=\"fa fa-search\" />\r\n          </Button>\r\n        </Form>\r\n      </div>\r\n\r\n      <div className=\"chat-users\">\r\n        {filterUsers.map((peer, i) => {\r\n          let status = uPeers.find(\r\n            (el) => el.id === peer?.from?.uid\r\n          )?.activeStatus;\r\n          return (\r\n            <div\r\n              key={`item-${i}`}\r\n              className={`chat-list ${!peer.isRead ? \"unread-msg\" : \"\"}`}\r\n              onClick={() => {\r\n                getChatHist(peer.from.uid, peer.photoURL, peer.from.name);\r\n              }}\r\n              role=\"presentation\"\r\n            >\r\n              <div className=\"chat-user-pic\">\r\n                <PeerImage img={peer.photoURL} />\r\n                {peer.from.uid === \"777-our-VEGAS-BOT-uid-777\" ? (\r\n                  \"\"\r\n                ) : (\r\n                  <div className={`status-dot ${status}`}></div>\r\n                )}\r\n              </div>\r\n              <div className=\"chat-user-content\">\r\n                <h4>\r\n                  {peer.from.name}\r\n                  <span>{peer.date.toDate().toDateString()}</span>\r\n                </h4>\r\n                <p\r\n                  contentEditable=\"false\"\r\n                  dangerouslySetInnerHTML={{ __html: peer.body }}\r\n                ></p>\r\n              </div>\r\n              {count[i] > 0 ? (\r\n                <span className=\"unread-alert\">{count[i]}</span>\r\n              ) : (\r\n                \"\"\r\n              )}\r\n            </div>\r\n          );\r\n        })}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst SingleChatUser = ({\r\n  usid,\r\n  nick,\r\n  userPhoto,\r\n  peer,\r\n  chatHist,\r\n  setChatHist,\r\n  getChatHist,\r\n}) => {\r\n  const dummy = useRef();\r\n  const [emoji, setEmoji] = useState(null);\r\n  const [message, setMessage] = useState(\"\");\r\n  const db = firebase.firestore();\r\n  const [altDate, setAltDate] = useState(false);\r\n  const onEmojiClick = (e, emojiUrl) => {\r\n    let msg = `<img src='${emojiUrl}' alt='LV-emoji' />`;\r\n    sendMessage(e, msg);\r\n    setEmoji(false);\r\n  };\r\n\r\n  const toggleEmoji = () => {\r\n    setEmoji(!emoji);\r\n  };\r\n\r\n  useEffect(() => {\r\n    function scrollToBottom() {\r\n      if (chatHist.length > 1) {\r\n        dummy?.current?.scrollIntoView({ behavior: \"auto\" });\r\n      }\r\n    }\r\n    if (chatHist.length > 1) {\r\n      scrollToBottom();\r\n    }\r\n  }, [chatHist]);\r\n\r\n  useEffect(() => {\r\n    const db = firebase.firestore();\r\n    db.collection(\"messanger\")\r\n      .doc(usid)\r\n      .collection(\"chats\")\r\n      .where(\"from.uid\", \"in\", [usid, peer])\r\n      .where(\"to\", \"==\", usid)\r\n      .orderBy(\"date\", \"asc\")\r\n      .limitToLast(500)\r\n      .onSnapshot((snapshot) => {\r\n        let changes = snapshot.docChanges();\r\n\r\n        setChatHist((preState) => {\r\n          let oldState = [...preState];\r\n          changes.forEach((change) => {\r\n            if (change.type === \"added\") oldState.push(change.doc.data());\r\n          });\r\n          return oldState;\r\n        });\r\n      });\r\n\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  function getMessage(event) {\r\n    setMessage(event.target.value);\r\n  }\r\n\r\n  async function sendMessage(event, msg) {\r\n    event.preventDefault();\r\n    let msgData = {\r\n      from: { name: nick, uid: usid },\r\n      to: peer,\r\n      body: msg ? msg : message,\r\n      date: firebase.firestore.FieldValue.serverTimestamp(),\r\n      photoURL: userPhoto,\r\n      isRead: false,\r\n    };\r\n    setMessage(\"\");\r\n    // resetting form value and scrolling to bottom\r\n    let arr = chatHist;\r\n    arr.push(msgData);\r\n    setAltDate(true);\r\n    setChatHist(arr);\r\n    await db\r\n      .collection(\"messanger\")\r\n      .doc(peer)\r\n      .collection(\"chats\")\r\n      .doc()\r\n      .set(msgData);\r\n    msgData.isRead = true;\r\n    await db\r\n      .collection(\"messanger\")\r\n      .doc(usid)\r\n      .collection(\"chats\")\r\n      .doc()\r\n      .set(msgData);\r\n    await axios.get(\"https://send-fcm-noti-t3e66zpola-uc.a.run.app/single\", {\r\n      headers: { cAction: `${window.location.origin}/profile` },\r\n      params: {\r\n        usid: peer,\r\n        title: \"Las Vegas Chat Messanger\",\r\n        body: msg ? `${nick} sent you a emoji` : `${nick}: \"${message}\"`,\r\n      },\r\n    });\r\n    msgData.isRead = false;\r\n    dummy?.current?.scrollIntoView({ behavior: \"auto\" });\r\n  }\r\n\r\n  return (\r\n    <div className=\"chat-content\">\r\n      <div className=\"chat-users chat-message-box\">\r\n        {chatHist.map((msg, i) => {\r\n          let side = \"msg right-msg\";\r\n          let myDate = new Date().toLocaleString();\r\n          let content = msg.body;\r\n          console.log(content, 'gggggggggggggggggggggg')\r\n          let dt;\r\n          if (content) {\r\n            let cc = content.split(\"at \");\r\n            if (cc[1]) {\r\n              let dd = cc[1].split(\". \");\r\n              cc.splice(1, 1, ...dd);\r\n\r\n              dt = new Date(cc[1] + \"Z\").toLocaleString();\r\n              cc[1] = dt + \". \";\r\n              content = cc[0] + cc[1] + cc[2];\r\n            }\r\n\t\t\tif(content.includes('wants to be your friend')){\r\n\t\t\t\tconsole.log(\"mes\", content)\r\n\t\t\t\tlet msgs = content.split(\" \");\r\n\t\t\t\tlet uname = msgs.splice(0,1);\r\n\r\n\t\t\t\tlet remainBody = \" \" + msgs.join(\" \");\r\n\r\n\t\t\t\tcontent = `<a href=\"${window.location.origin}/userprofile/${uname}\">${uname}</a>${remainBody}`\r\n\t\t\t}\r\n\t\t\tif(content.includes('we are friends again!')){\r\n\t\t\t\tconsole.log(\"mes\", content)\r\n\t\t\t\tlet msgs = content.split(\",\");\r\n\t\t\t\tlet uname = msgs.splice(0,1);\r\n\r\n\t\t\t\tlet remainBody = \" \" + msgs.join(\" \");\r\n  \r\n\t\t\t\tcontent = `<a href=\"${window.location.origin}/userprofile/${uname}\">${uname}</a>${remainBody}`\r\n\t\t\t}\r\n\t\t\tif(content.includes('we are friends now!')){\r\n\t\t\t\tconsole.log(\"mes\", content)\r\n\t\t\t\tlet msgs = content.split(\",\");\r\n\t\t\t\tlet uname = msgs.splice(0,1);\r\n\r\n\t\t\t\tlet remainBody = \" \" + msgs.join(\" \");\r\n  \r\n\t\t\t\tcontent = `<a href=\"${window.location.origin}/userprofile/${uname}\">${uname}</a>${remainBody}`\r\n\t\t\t}\r\n          }\r\n\r\n          if (msg.from.uid === peer) {\r\n            side = \"msg left-msg\";\r\n          }\r\n          if (!altDate) {\r\n            myDate = msg.date.toDate().toLocaleString();\r\n          }\r\n          return (\r\n            <div className={side} key={`item-${i}`}>\r\n              <div className=\"msg-img\">\r\n                {/*<img src={convUri(msg.photoURL)} alt=\"user\" />*/}\r\n                <a href={`${window.location.origin}/userprofile/${msg.from.name}`}><PeerImage img={msg.photoURL} /></a>\r\n              </div>\r\n              <div className=\"msg-bubble\">\r\n                <div className=\"msg-info\">\r\n                  <div className=\"msg-info-name\">\r\n\t\t\t\t\t<a href={`${window.location.origin}/userprofile/${msg.from.name}`}>{msg.from.name}</a>\r\n\t\t\t\t  </div>\r\n                  <div className=\"msg-info-time\">{myDate}</div>\r\n                </div>\r\n                {/* <div className=\"msg-text\">{msg.body}</div> */}\r\n                <div\r\n                  contentEditable=\"false\"\r\n                  className=\"msg-text\"\r\n                  dangerouslySetInnerHTML={{ __html: content }}\r\n                ></div>\r\n                {msg.button && (\r\n                  <ActionButton\r\n                    type={msg.button}\r\n                    peer={peer}\r\n                    link={msg.link}\r\n                    body={msg.body}\r\n                    getChatHist={getChatHist}\r\n                  />\r\n                )}\r\n              </div>\r\n              <span ref={dummy}></span>\r\n            </div>\r\n          );\r\n        })}\r\n      </div>\r\n\r\n      <div className=\"chat-search chat-input\">\r\n        <Form inline onSubmit={sendMessage}>\r\n          <Form.Control\r\n            type=\"text\"\r\n            placeholder=\"Say it now\"\r\n            value={message}\r\n            onChange={getMessage}\r\n          />\r\n          <Button\r\n            variant=\"outline-secondary\"\r\n            id=\"button-addon2\"\r\n            onClick={() => toggleEmoji()}\r\n            className=\"emoji-btn\"\r\n          >\r\n            <i className=\"fa fa-smile-o\" aria-hidden=\"true\"></i>\r\n          </Button>\r\n          <Button type=\"submit\" disabled={message.length === 0}>\r\n            <i className=\"fa fa-location-arrow\" />\r\n          </Button>\r\n        </Form>\r\n      </div>\r\n      {emoji ? (\r\n        <div className=\"emoji\">\r\n          <EmojiPicker onEmojiClick={onEmojiClick} />\r\n        </div>\r\n      ) : (\r\n        \"\"\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nconst ActionButton = ({ type, peer, link, body, getChatHist }) => {\r\n  const { setFriendList, setBlockList } = useContext(MainContext);\r\n  const history = useHistory();\r\n  const [usid] = useState(firebase.auth().currentUser.uid);\r\n  const [idToken] = useState(firebase.auth().currentUser.getIdToken(true));\r\n  const [isClicked, setIsClicked] = useState(\"\");\r\n  // const [coins, setCoins] = useState(0);\r\n\r\n  useEffect(() => {\r\n    const dd = async () => {\r\n      // const us = firebase.auth().currentUser;\r\n      // const baseStats = await getDoc(\"baseStats\", us.uid);\r\n      // setCoins(baseStats.total.coins);\r\n    };\r\n    dd();\r\n  }, []);\r\n  const handleAcceptRequest = async () => {\r\n    setIsClicked(true);\r\n    const nick = body.split(\" \");\r\n    toast.success(\"Sending..\", {\r\n      id: \"please-wait\",\r\n      icon: \"♠️\",\r\n      style: {\r\n        borderRadius: \"5px\",\r\n        background: \"#333\",\r\n        color: \"#fff\",\r\n      },\r\n    });\r\n    axios\r\n      .get(\" https://accept-friend-t3e66zpola-ew.a.run.app\", {\r\n        params: { usid: usid, frId: nick[0] },\r\n        headers: { idtoken: idToken.i },\r\n      })\r\n      .then((response) => {\r\n        if (response.data) {\r\n          let fName = nick[0];\r\n          if (\r\n            response.data.error === \"no error\" &&\r\n            response.data.success === true\r\n          ) {\r\n            toast.success(\r\n              \"Congratulations! You and @\" + fName + \" are friends!\",\r\n              {\r\n                duration: 3000,\r\n                id: \"frined-request\",\r\n                icon: \"✔️\",\r\n                style: {\r\n                  borderRadius: \"5px\",\r\n                  background: \"#333\",\r\n                  color: \"#fff\",\r\n                },\r\n              }\r\n            );\r\n            axios\r\n              .get(\"https://base-api-t3e66zpola-uk.a.run.app\", {\r\n                params: {\r\n                  usid: usid,\r\n                  service: \"getFr-BlockTables\",\r\n                  params: \"usid=\" + usid,\r\n                },\r\n                headers: { idtoken: idToken },\r\n              })\r\n              .then((response) => {\r\n                if (response.data) {\r\n                  setFriendList(response.data.frTable);\r\n                  setBlockList(response.data.blockTable);\r\n                } else {\r\n                  console.log(\"backend response failed: \", response.statusText);\r\n                }\r\n              })\r\n              .catch((error) => {\r\n                console.log(\"Error req\", error);\r\n              });\r\n          }\r\n          if (response.data.error.includes(\"already friends\")) {\r\n            toast.success(\"Friend request already accepted.\", {\r\n              duration: 6000,\r\n              id: \"frined-already-sent\",\r\n              icon: \"❌\",\r\n              style: {\r\n                borderRadius: \"5px\",\r\n                background: \"#333\",\r\n                color: \"#fff\",\r\n              },\r\n            });\r\n          } else if (response.data.error !== \"no error\") {\r\n            toast.error(response.data.error, { id: \"A\" });\r\n          }\r\n        } else {\r\n          console.log(\"Backend response failed: \", response.statusText);\r\n        }\r\n      })\r\n      .catch((error) => {\r\n        console.log(\"Error req\", error);\r\n      });\r\n  };\r\n\r\n  const handleCancelRequest = async () => {\r\n    setIsClicked(true);\r\n    toast.success(\"Sending..\", {\r\n      id: \"please-wait\",\r\n      icon: \"♠️\",\r\n      style: {\r\n        borderRadius: \"5px\",\r\n        background: \"#333\",\r\n        color: \"#fff\",\r\n      },\r\n    });\r\n\r\n    const nick = body.split(\" \");\r\n    axios\r\n      .get(\"https://reject-friend-req-t3e66zpola-lz.a.run.app\", {\r\n        params: { usid: usid, frId: nick[0] },\r\n        headers: { idtoken: idToken.i },\r\n      })\r\n      .then((response) => {\r\n        if (response.data) {\r\n          if (\r\n            response.data.error === \"no error\" &&\r\n            response.data.success === true\r\n          ) {\r\n            toast.success(\"You have rejected this friend invitation!\", {\r\n              id: \"frined-reject\",\r\n              icon: \"✔️\",\r\n              style: {\r\n                borderRadius: \"5px\",\r\n                background: \"#333\",\r\n                color: \"#fff\",\r\n              },\r\n            });\r\n          }\r\n        } else {\r\n          console.log(\"Backend response failed: \", response.statusText);\r\n        }\r\n      })\r\n      .catch((error) => {\r\n        console.log(\"Error req\", error);\r\n      });\r\n  };\r\n\r\n  const handleSendRequest = async () => {\r\n    setIsClicked(true);\r\n    const FUid = peer;\r\n    const IdTokenConst = idToken;\r\n    const Uid = usid;\r\n    axios\r\n      .get(\"https://friend-reqest-t3e66zpola-uc.a.run.app\", {\r\n        params: { usid: Uid, frId: FUid },\r\n        headers: { idtoken: IdTokenConst },\r\n      })\r\n      .then((response) => {\r\n        if (response.data) {\r\n          getChatHist();\r\n        } else {\r\n          console.log(\"Backend response failed: \", response.statusText);\r\n        }\r\n      })\r\n      .catch((error) => {\r\n        console.log(\"Error req\", error);\r\n      });\r\n  };\r\n\r\n  const handlePlayQuickMatch = async () => {\r\n    const IdTokenConst = idToken;\r\n    toast.success(\"Searching for a Poker match..\", {\r\n      id: \"Searching-poker\",\r\n      icon: \"🔎\",\r\n      style: {\r\n        borderRadius: \"5px\",\r\n        background: \"#333\",\r\n        color: \"#fff\",\r\n      },\r\n    });\r\n    axios\r\n      .get(\"https://quick-match-t3e66zpola-uk.a.run.app\", {\r\n        params: {\r\n          uid: usid,\r\n          gameColl: \"pokerCP_Tables\",\r\n        },\r\n        headers: {\r\n          idtoken: IdTokenConst.i,\r\n          device: localStorage.getItem(\"deviceId\"),\r\n        },\r\n      })\r\n      .then((response) => {\r\n        if (response.data.error === \"user logged in other device\") {\r\n          return (window.location.href = \"/login\");\r\n        }\r\n        if (response.data) {\r\n          if (\r\n            response.data.error === \"no error\" &&\r\n            response.data.success === true\r\n          ) {\r\n            let pokerQuickLink = response.data.link;\r\n            toast.success(\"Redirect..\", {\r\n              id: \"quick-match-poker\",\r\n              icon: \"✔️\",\r\n              style: {\r\n                borderRadius: \"5px\",\r\n                background: \"#333\",\r\n                color: \"#fff\",\r\n              },\r\n            });\r\n            window.location.href = pokerQuickLink;\r\n          }\r\n          if (response.data.error === \"sorry, no table found\") {\r\n            toast.success(\"No Poker table found\", {\r\n              id: \"error-login\",\r\n              icon: \"❌\",\r\n              style: {\r\n                borderRadius: \"5px\",\r\n                background: \"#333\",\r\n                color: \"#fff\",\r\n              },\r\n            });\r\n          }\r\n          if (response.data.error === \"already inGame\") {\r\n            toast.success(\r\n              \"You are already inGame, please leave table and try again.\",\r\n              {\r\n                duration: 5000,\r\n                id: \"error-inGame\",\r\n                icon: \"❌\",\r\n                style: {\r\n                  borderRadius: \"5px\",\r\n                  background: \"#333\",\r\n                  color: \"#fff\",\r\n                },\r\n              }\r\n            );\r\n          }\r\n        } else {\r\n          console.log(\r\n            \"quick-match backend response failed: \",\r\n            response.statusText\r\n          );\r\n        }\r\n      })\r\n      .catch((error) => {\r\n        console.log(\"Error req\", error);\r\n      });\r\n  };\r\n\r\n  const handleJoinTable = async () => {\r\n    let d = link.split(\"=\");\r\n    let tabId = d[1].split(\"&\")[0];\r\n    let gameColl = d[2];\r\n    const res = await axios.get(\"https://set-ingame-t3e66zpola-uc.a.run.app/\", {\r\n      headers: {\r\n        Idtoken: idToken.i,\r\n        device: localStorage.getItem(\"deviceId\"),\r\n      },\r\n      params: {\r\n        gameColl,\r\n        tabId,\r\n      },\r\n    });\r\n    if (res.data.success) {\r\n      const link1 = link.split(\"https://\");\r\n      window.location.href = `https://${link1[1]}`;\r\n    } else if (res.data.error === \"User is already lobby\") {\r\n      let pokerTableLink = res.data.link;\r\n      window.location.href = pokerTableLink;\r\n    } else if (res.data.error === \"User has no session. Force signin\") {\r\n      toast.success(\"User has no session, force sign-out\", {\r\n        duration: 5000,\r\n        id: \"force-signout\",\r\n        icon: \"❌\",\r\n        style: {\r\n          borderRadius: \"5px\",\r\n          background: \"#333\",\r\n          color: \"#fff\",\r\n        },\r\n      });\r\n      axios\r\n        .get(\"https://base-api-t3e66zpola-uk.a.run.app/\", {\r\n          params: {\r\n            usid: usid,\r\n            service: \"signout\",\r\n            params: `usid=${usid}`,\r\n          },\r\n          headers: { idtoken: idToken },\r\n        })\r\n        .then((response) => {\r\n          if (response.data.error === \"no error\") {\r\n            localStorage.removeItem(\"xtkn\");\r\n            firebase\r\n              .auth()\r\n              .signOut()\r\n              .then(() => {\r\n                // this.setState({ renderSignout: true });\r\n                history.push(\"/login\");\r\n              })\r\n              .catch((error) => {\r\n                console.log(error);\r\n              });\r\n          } else {\r\n            console.log(\"req failed: \", response.data);\r\n          }\r\n        })\r\n        .catch((error) => {\r\n          console.log(\"Error req\", error);\r\n        });\r\n    } else if (res.data.error === \"user logged in other device\") {\r\n      toast.success(\"Your account is currently logged into another device\", {\r\n        duration: 5000,\r\n        id: \"another-device\",\r\n        icon: \"❌\",\r\n        style: {\r\n          borderRadius: \"5px\",\r\n          background: \"#333\",\r\n          color: \"#fff\",\r\n        },\r\n      });\r\n    } else {\r\n      toast.success(\"Could not find game table.\", {\r\n        duration: 5000,\r\n        id: \"find-game\",\r\n        icon: \"❌\",\r\n        style: {\r\n          borderRadius: \"5px\",\r\n          background: \"#333\",\r\n          color: \"#fff\",\r\n        },\r\n      });\r\n    }\r\n  };\r\n\r\n  const handleBetAccept = async () => {\r\n    let url = link.split(\"/\");\r\n    history.push(\"/\" + url[url.length - 1]);\r\n  };\r\n\r\n  switch (type) {\r\n    case \"send-friend-request\": {\r\n      return <Button onClick={() => handleSendRequest()}>Send</Button>;\r\n    }\r\n    case \"play-quick-match\": {\r\n      return <Button onClick={() => handlePlayQuickMatch()}>Play</Button>;\r\n    }\r\n    case \"join-table\": {\r\n      return <Button onClick={() => handleJoinTable()}>Join</Button>;\r\n    }\r\n    case \"accept-friend-request\": {\r\n      return (\r\n        <>\r\n          {!isClicked && (\r\n            <>\r\n              <Button onClick={() => handleAcceptRequest()}>Accept</Button>\r\n              <Button onClick={() => handleCancelRequest()}>Reject</Button>\r\n            </>\r\n          )}\r\n        </>\r\n      );\r\n    }\r\n    case \"open-bet-form\": {\r\n      return (\r\n        <>\r\n          {!isClicked && (\r\n            <>\r\n              <Button onClick={() => handleBetAccept()}>Bet Details</Button>\r\n            </>\r\n          )}\r\n        </>\r\n      );\r\n    }\r\n    default: {\r\n      return \"\";\r\n    }\r\n  }\r\n};\r\n\r\nconst PeerImage = ({ img }) => {\r\n  return <img src={img} alt=\"Peer-Profile\" />;\r\n};\r\n","import React, { useState } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { isIOS, isMobile } from \"react-device-detect\";\r\nimport googleImg from \"../../assets/images/header/googlePlay.png\";\r\nimport appImg from \"../../assets/images/header/iOS.png\";\r\nimport Chat from \"../chat/chat\";\r\nimport \"./footer.css\";\r\nimport { useTranslation } from \"react-i18next\";\r\n\r\nconst Footer = () => {\r\n  const [open, setOpen] = useState();\r\n\r\n  const handleClick = (e) => {\r\n    setOpen(e);\r\n  };\r\n  const { t } = useTranslation();\r\n\r\n  const pathname = window.location.pathname;\r\n\r\n  console.log(\"isIOS: \" + isIOS);\r\n\r\n  if (pathname === \"/profile\") {\r\n    return (\r\n      <div className='footer'>\r\n        <div className='container'>\r\n          <div className='footer-top '>\r\n            {/*<div className=\"privacy-links\">\r\n              <Link to=\"/privacy-policy\">Privacy Policy</Link>\r\n              <Link to=\"/terms-of-use\">Term & Conditions</Link>\r\n            </div>*/}\r\n            <div className='google-btns'>\r\n              {!isIOS && isMobile && (\r\n                <a href='https://play.google.com/store/apps/details?id=com.las_vegas.twa&pcampaignid=pcampaignidMKT-Other-global-all-co-prtnr-py-PartBadge-Mar2515-1'>\r\n                  <img\r\n                    className='img-responsive'\r\n                    src={googleImg}\r\n                    alt='google'\r\n                  />\r\n                </a>\r\n              )}\r\n              {isIOS && isMobile && (\r\n                <a href='https://apps.apple.com/app/las-vegas-com/id1605959990?platform=iphone'>\r\n                  <img className='img-responsive' src={appImg} alt='ios' />\r\n                </a>\r\n              )}\r\n              {!isMobile && (\r\n                <>\r\n                  <a href='https://play.google.com/store/apps/details?id=com.las_vegas.twa&pcampaignid=pcampaignidMKT-Other-global-all-co-prtnr-py-PartBadge-Mar2515-1'>\r\n                    <img\r\n                      className='img-responsive'\r\n                      src={googleImg}\r\n                      alt='google'\r\n                    />\r\n                  </a>\r\n                  <a href='https://apps.apple.com/app/las-vegas-com/id1605959990?platform=iphone'>\r\n                    <img className='img-responsive' src={appImg} alt='ios' />\r\n                  </a>\r\n                </>\r\n              )}\r\n            </div>\r\n            <div className='copyright-text text-center'>\r\n              <p>\r\n                © 2022 <Link to='/'>Las-Vegas</Link> {t(\"landing.copyright\")}\r\n              </p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <Chat handleClick={handleClick} open={open} />\r\n      </div>\r\n    );\r\n  } else if (\r\n    pathname === \"/createtable-ludo\" ||\r\n    pathname === \"/createtable-backgammon\" ||\r\n    pathname === \"/createtable-blackjack\" ||\r\n    pathname === \"/createtable\" ||\r\n    pathname === \"/friends\" ||\r\n    pathname === \"/feed\" ||\r\n    pathname === \"/settings\" ||\r\n    document.location.pathname.indexOf(\"/userprofile/\") === 0 ||\r\n    document.location.pathname.indexOf(\"/marketplace/\") === 0 ||\r\n    document.location.pathname.indexOf(\"/jointable/\") === 0\r\n  ) {\r\n    return (\r\n      <div className='footer'>\r\n        <div className='container'>\r\n          <div className='footer-top '>\r\n            <div className='google-btns'>\r\n              {!isIOS && isMobile && (\r\n                <a href='https://play.google.com/store/apps/details?id=com.las_vegas.twa&pcampaignid=pcampaignidMKT-Other-global-all-co-prtnr-py-PartBadge-Mar2515-1'>\r\n                  <img\r\n                    className='img-responsive'\r\n                    src={googleImg}\r\n                    alt='google'\r\n                  />\r\n                </a>\r\n              )}\r\n              {isIOS && isMobile && (\r\n                <a href='https://apps.apple.com/app/las-vegas-com/id1605959990?platform=iphone'>\r\n                  <img className='img-responsive' src={appImg} alt='ios' />\r\n                </a>\r\n              )}\r\n\r\n              {!isMobile && (\r\n                <>\r\n                  <a href='https://play.google.com/store/apps/details?id=com.las_vegas.twa&pcampaignid=pcampaignidMKT-Other-global-all-co-prtnr-py-PartBadge-Mar2515-1'>\r\n                    <img\r\n                      className='img-responsive'\r\n                      src={googleImg}\r\n                      alt='google'\r\n                    />\r\n                  </a>\r\n                  <a href='https://apps.apple.com/app/las-vegas-com/id1605959990?platform=iphone'>\r\n                    <img className='img-responsive' src={appImg} alt='ios' />\r\n                  </a>\r\n                </>\r\n              )}\r\n            </div>\r\n            <div className='copyright-text text-center'>\r\n              <p>\r\n                © 2022 <Link to='/'>Las-Vegas</Link> {t(\"landing.copyright\")}\r\n              </p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className='footer'>\r\n      <div className='container'>\r\n        <div className='footer-top '>\r\n          <div className='privacy-links'>\r\n            <Link to='/privacy-policy'>{t(\"landing.privacy\")}</Link>\r\n            <Link to='/terms-of-use'>{t(\"landing.term\")}</Link>\r\n          </div>\r\n          <div className='google-btns'>\r\n            {!isMobile && (\r\n              <>\r\n                <a href='https://play.google.com/store/apps/details?id=com.las_vegas.twa&pcampaignid=pcampaignidMKT-Other-global-all-co-prtnr-py-PartBadge-Mar2515-1'>\r\n                  <img\r\n                    className='img-responsive'\r\n                    src={googleImg}\r\n                    alt='google'\r\n                  />\r\n                </a>\r\n                <a href='https://apps.apple.com/app/las-vegas-com/id1605959990?platform=iphone'>\r\n                  <img className='img-responsive' src={appImg} alt='ios' />\r\n                </a>\r\n              </>\r\n            )}\r\n          </div>\r\n          <div className='copyright-text text-center'>\r\n            <p>\r\n              © 2022 <Link to='/'>Las-Vegas</Link> {t(\"landing.copyright\")}\r\n            </p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Footer;\r\n","\r\nimport React from \"react\";\r\nimport Header from \"../header/header\";\r\nimport Footer from \"../footer/footer\";\r\n\r\nconst Layout = ({children}) => {\r\n    return(\r\n    <div className=\"wrapper\">\r\n\r\n        <Header />\r\n\r\n        <div className=\"content-wrapper\">\r\n\t\t{children}\r\n\t\t</div>\r\n\r\n        <Footer />\r\n\r\n    </div>\r\n    )\r\n}\r\n\r\n  \r\nexport default  Layout;","import React from \"react\";\r\nimport { CountdownCircleTimer } from \"react-countdown-circle-timer\";\r\n\r\nconst CircularTimer = () => (\r\n  <div className=\"timer-section\">\r\n    Otp sending...\r\n    <CountdownCircleTimer\r\n      isPlaying\r\n      duration={30}\r\n      size={30}\r\n      strokeWidth={0}\r\n      colors={[\"#004777\", \"#F7B801\", \"#A30000\", \"#A30000\"]}\r\n      colorsTime={[7, 5, 2, 0]}\r\n    >\r\n      {({ remainingTime }) => remainingTime}\r\n    </CountdownCircleTimer>\r\n  </div>\r\n);\r\n\r\nexport default CircularTimer;\r\n","import React, { Component } from \"react\";\r\nimport \"react-phone-number-input/style.css\";\r\nimport PhoneInput from \"react-phone-number-input\";\r\nimport axios from \"axios\";\r\nimport toast from \"react-hot-toast\";\r\nimport { Form, Button } from \"react-bootstrap\";\r\nimport {  isMobile, browserName } from \"react-device-detect\";\r\nimport \"./register.css\";\r\n//import lvVideo from \"../../assets/video/LAS_VEGAS.mp4\";\r\nimport CircularTimer from \"./circularTimer\";\r\nimport GoogleLogin from \"react-google-login\";\r\n\r\nexport class FormPhone extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      country: \"US\",\r\n      city: \"\",\r\n      ip: \"\",\r\n      phone: this.props.data.phone,\r\n      device: \"\",\r\n      error: \"\",\r\n      showVideoPopup: !isMobile,\r\n      otp: \"\",\r\n      xtkn: localStorage.getItem(\"xtkn\"),\r\n      loading: false,\r\n      accessRestricted: false,\r\n      deviceId: \"\",\r\n      RegisterShow: false,\r\n      showVideo: true,\r\n      videoType: \"poker\",\r\n      NFTPopup: false,\r\n      statShow: false,\r\n    };\r\n    this.handleGoogleLogin = this.handleGoogleLogin.bind(this);\r\n  }\r\n\r\n  async geolocationSuccess(position) {\r\n    const {\r\n      coords: { latitude, longitude },\r\n    } = position;\r\n    console.log(\"Dsdsd =>\", position);\r\n    const res = await axios.get(\r\n      `http://api.geonames.org/countryCodeJSON?lat=${latitude}&lng=${longitude}&username=rizwanwebsul`\r\n    );\r\n    console.log(\"res =>\", res.data);\r\n    this.setState({ countryCode: res.data.countryCode });\r\n    this.props.handleUserOrigin(this.state.ip, res.data.countryCode);\r\n  }\r\n\r\n  async componentDidMount() {\r\n    // Geolocation IP Databases allow  to determine your app visitor's location: https://geolocation-db.com/\r\n    let countryCode;\r\n    const url =\r\n      \"https://geolocation-db.com/json/0f761a30-fe14-11e9-b59f-e53803842572\";\r\n    const response = await axios.get(url);\r\n    let { data } = response;\r\n    if (data.country_code === \"Not found\" || !data?.country_code) {\r\n      const res = await axios.get(\"https://www.cloudflare.com/cdn-cgi/trace\");\r\n      const values = res.data.split(\"\\n\");\r\n      let obj = {};\r\n      values.forEach((value) => {\r\n        obj[value.split(\"=\")[0]] = value.split(\"=\")[1];\r\n      });\r\n      data = { IPv4: obj.ip, country_code: obj.loc };\r\n    }\r\n    this.setState({\r\n      ip: data.IPv4,\r\n      city: data.city,\r\n    });\r\n    this.props.handleUserOrigin(data.IPv4, data.country_code);\r\n    countryCode = data.country_code;\r\n\r\n    // SetUp phone Country code flag according to Geolocation data.country_name IP\r\n    if (\r\n      countryCode === \"International\" ||\r\n      countryCode === \"Not found\" ||\r\n      countryCode === \"\" ||\r\n      !countryCode\r\n    ) {\r\n      if (window.navigator) {\r\n        window.navigator.geolocation.getCurrentPosition(\r\n          async (position) => {\r\n            countryCode = await this.geolocationSuccess(position);\r\n          },\r\n          (err) => {\r\n            console.log(\"error in geolocation\", err);\r\n          },\r\n          {\r\n            enableHighAccuracy: true,\r\n            timeout: 5000,\r\n            maximumAge: 0,\r\n          }\r\n        );\r\n      }\r\n    } else {\r\n      this.setState({\r\n        accessRestricted: false,\r\n      });\r\n    }\r\n    this.setState({\r\n      country: countryCode,\r\n    });\r\n  }\r\n\r\n  ifRegistr = () => {\r\n    let validError = \"Auto sign out, please try again\";\r\n    let checkCookies = this.state.xtkn;\r\n    if (checkCookies) {\r\n      this.setState({ error: validError });\r\n      localStorage.removeItem(\"xtkn\");\r\n      toast.success(\"Auto sign out, please try again\", {\r\n        id: \"currently-signed-in\",\r\n        icon: \"❕\",\r\n        style: {\r\n          borderRadius: \"5px\",\r\n          background: \"#333\",\r\n          color: \"#fff\",\r\n        },\r\n      });\r\n      return false;\r\n    }\r\n    return true;\r\n  };\r\n\r\n  formPhoneNumber(event) {\r\n    event.preventDefault();\r\n    this.props.phoneUpdate(this.state.phone);\r\n    if (this.state.phone === \"\")\r\n      return this.setState({\r\n        error: \"Phone number is required\",\r\n      });\r\n\r\n    if (this.state.phone === undefined)\r\n      return this.setState({\r\n        error: \"Phone number is undefined\",\r\n      });\r\n\r\n    this.setState({ loading: true });\r\n\r\n    var browser = browserName;\r\n    this.device = browser;\r\n\r\n    const isValid = this.ifRegistr();\r\n\r\n    if (isValid) {\r\n      window.gtag(\"event\", \"Phone_Verification\", {\r\n        title: \"Google registration button event\",\r\n      });\r\n      toast.success(\"Sending OTP via SMS..\", {\r\n        id: \"OTP-SMS\",\r\n        duration: 4000,\r\n        icon: \"♠️\",\r\n        style: {\r\n          borderRadius: \"5px\",\r\n          background: \"#333\",\r\n          color: \"#fff\",\r\n        },\r\n      });\r\n      localStorage.removeItem(\"welcomePopup\");\r\n      axios\r\n        .get(\"https://init-reg-t3e66zpola-ez.a.run.app\", {\r\n          params: {\r\n            phone: this.state.phone,\r\n            ip: this.state.ip,\r\n            device: this.device,\r\n            db: \"yes\",\r\n            sms: \"yes\",\r\n          },\r\n          headers: {\r\n            fmctoken: localStorage.getItem(\"fmcToken\")\r\n              ? localStorage.getItem(\"fmcToken\")\r\n              : \"no\",\r\n          },\r\n        })\r\n        .then((response) => {\r\n          if (response.data) {\r\n            this.setState({ loading: false });\r\n            const myErrorVariable = response.data.error;\r\n            const myError2 = response.data.error2;\r\n            const OTC = response.data.OTC;\r\n            const duplicate = response.data.phone_in_DB;\r\n\r\n            if (OTC) {\r\n              console.log(\"OTP: \" + OTC);\r\n              toast.success(\"SMS Successfully sent\", {\r\n                id: \"otp-Success\",\r\n                duration: 4000,\r\n                icon: \"✔️\",\r\n                style: {\r\n                  borderRadius: \"5px\",\r\n                  background: \"#333\",\r\n                  color: \"#fff\",\r\n                },\r\n              });\r\n\r\n              this.setState({\r\n                otp: OTC,\r\n              });\r\n\r\n              this.props.phoneUpdate(this.state.phone);\r\n              this.props.nextStep();\r\n            }\r\n\r\n            if (\r\n              duplicate === true &&\r\n              myError2 === \"phone belongs to registered user\"\r\n            ) {\r\n              toast.success(\"Phone already registered\", {\r\n                id: \"error-duplicate\",\r\n                duration: 4000,\r\n                icon: \"♠️\",\r\n                style: {\r\n                  borderRadius: \"5px\",\r\n                  background: \"#333\",\r\n                  color: \"#fff\",\r\n                },\r\n              });\r\n              this.setState({\r\n                error: \"Phone already registered, please login\",\r\n              });\r\n            }\r\n            if (duplicate === true && myError2 === \"no registerDate found\") {\r\n              this.props.nextStep();\r\n            } else if (myErrorVariable === \"number is not valid\") {\r\n              toast.success(\"Phone number is invalid\", {\r\n                id: \"error-register\",\r\n                duration: 4000,\r\n                icon: \"❌\",\r\n                style: {\r\n                  borderRadius: \"5px\",\r\n                  background: \"#333\",\r\n                  color: \"#fff\",\r\n                },\r\n              });\r\n              this.setState({ error: \"Phone number is invalid\" });\r\n            } else if (myErrorVariable === \"phone pre check failed\") {\r\n              toast.success(\"You've made too many attempts\", {\r\n                id: \"error-register\",\r\n                duration: 4000,\r\n                icon: \"❌\",\r\n                style: {\r\n                  borderRadius: \"5px\",\r\n                  background: \"#333\",\r\n                  color: \"#fff\",\r\n                },\r\n              });\r\n              this.setState({ error: \"Too many attempts, try again later\" });\r\n            } else if (myErrorVariable === \"no error\") {\r\n              this.setState({ error: myErrorVariable });\r\n            } else if (myErrorVariable !== \"no error\") {\r\n              toast.success(myErrorVariable, {\r\n                id: \"backend-error\",\r\n                icon: \"❌\",\r\n                style: {\r\n                  borderRadius: \"5px\",\r\n                  background: \"#333\",\r\n                  color: \"#fff\",\r\n                },\r\n              });\r\n            }\r\n          }\r\n        })\r\n        .catch((error) => {\r\n          this.setState({ loading: false });\r\n          console.log(\"Error fetching and parsing data\", error);\r\n        });\r\n    }\r\n  }\r\n\r\n  handleVideoPopup = (value) => {\r\n    this.setState({ showVideoPopup: value });\r\n  };\r\n\r\n  toggleState() {\r\n    this.setState({\r\n      statShow: !this.state.statShow,\r\n    });\r\n  }\r\n\r\n  async handleGoogleLogin(response) {\r\n    console.log(\"error =>\", response.error);\r\n    if (response.error) return;\r\n    const {\r\n      profileObj: { email },\r\n      tokenObj: { access_token },\r\n    } = response;\r\n    this.props.handleGoogleLogin(email, access_token, this.state.country);\r\n  }\r\n\r\n  RegisterClose() {\r\n    this.setState({\r\n      RegisterShow: !this.state.RegisterShow,\r\n    });\r\n  }\r\n\r\n  handleRgister(type) {\r\n    this.setState({\r\n      RegisterShow: true,\r\n      videoType: type,\r\n      showVideo: true,\r\n    });\r\n    setTimeout(() => {\r\n      this.setState({ showVideo: false });\r\n    }, 5000);\r\n  }\r\n\r\n  handleNFTPopup = () => {\r\n    this.setState({ NFTPopup: true });\r\n  };\r\n  handleNFTPopupClose = () => {\r\n    this.setState({ NFTPopup: false });\r\n  };\r\n  handleRegisterPopup = () => {\r\n    this.setState({ showVideo: false });\r\n    this.setState({ RegisterShow: true });\r\n  };\r\n  render() {\r\n    return (\r\n      <>\r\n        <div className=\"profile register-page signup-step-one\">\r\n          <div className=\"google-login\">\r\n            <LoginButton handleGoogleLogin={this.handleGoogleLogin} />\r\n            <div className=\"divider\">\r\n              <span>OR</span>\r\n            </div>\r\n\r\n            <button\r\n              className={\r\n                this.state.statShow\r\n                  ? \"google-login-btn btn btn-primary\"\r\n                  : \"google-login-btn btn btn-primary\"\r\n              }\r\n              onClick={() => this.toggleState()}\r\n            >\r\n              <b>Phone</b> Verification\r\n            </button>\r\n          </div>\r\n\r\n          {this.state.statShow ? (\r\n            <Form>\r\n              <div className=\"step-1\">\r\n                <div className=\"row\">\r\n                  <div className=\"col-md-12\">\r\n                    <Form.Group controlId=\"formPhoneNumber\">\r\n                      <Form.Label>Enter Phone Number</Form.Label>\r\n                      <PhoneInput\r\n                        className=\"PhoneInput\"\r\n                        placeholder=\"Enter phone number\"\r\n                        value={this.state.phone}\r\n                        onChange={(phone) => this.setState({ phone })}\r\n                        defaultCountry={this.state.country}\r\n                        required\r\n                      />\r\n                      <p style={{ color: \"#b9a11e\" }}>{this.state.error}</p>\r\n                      <p style={{ color: \"#b9a11e\" }}>{this.state.otp}</p>\r\n                    </Form.Group>\r\n                  </div>\r\n                  <div className=\"col-md-12\">\r\n                    <div className=\"text-center\">\r\n                      <Button\r\n                        className=\"s-btn\"\r\n                        type=\"submit\"\r\n                        disabled={this.state.loading}\r\n                        onClick={this.formPhoneNumber.bind(this)}\r\n                      >\r\n                        {this.state.loading ? (\r\n                          <CircularTimer />\r\n                        ) : (\r\n                          \"Send SMS Code\"\r\n                        )}\r\n                      </Button>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </Form>\r\n          ) : null}\r\n\r\n          {/*{isIOS && isMobile && (\r\n                  <div className=\"apple-store\">\r\n                    <a href=\"https://apps.apple.com/app/las-vegas-com/id1605959990?platform=iphone\">\r\n                      <img className=\"img-responsive\" src={IOS} alt=\"ios\" />\r\n                    </a>\r\n                  </div>\r\n                )}\r\n\r\n                {!isIOS && isMobile && (\r\n                  <div className=\"google-play\">\r\n                    <a href=\"https://play.google.com/store/apps/details?id=com.las_vegas.twa&pcampaignid=pcampaignidMKT-Other-global-all-co-prtnr-py-PartBadge-Mar2515-1\">\r\n                      <img\r\n                        className=\"img-responsive\"\r\n                        src={googlePlay}\r\n                        alt=\"google\"\r\n                      />\r\n                    </a>\r\n                  </div>\r\n                )}\r\n\r\n                {!isMobile && (\r\n                  <div>\r\n                    <div className=\"google-play\">\r\n                      <a href=\"https://play.google.com/store/apps/details?id=com.las_vegas.twa&pcampaignid=pcampaignidMKT-Other-global-all-co-prtnr-py-PartBadge-Mar2515-1\">\r\n                        <img\r\n                          className=\"img-responsive\"\r\n                          src={googlePlay}\r\n                          alt=\"google\"\r\n                        />\r\n                      </a>\r\n                    </div>\r\n                    <div className=\"apple-store\">\r\n                      <a href=\"https://apps.apple.com/app/las-vegas-com/id1605959990?platform=iphone\">\r\n                        <img className=\"img-responsive\" src={IOS} alt=\"ios\" />\r\n                      </a>\r\n                    </div>\r\n                  </div>\r\n                )}*/}\r\n        </div>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default FormPhone;\r\n\r\nconst LoginButton = ({ handleGoogleLogin }) => {\r\n  window.gtag(\"event\", \"Google_registration\", {\r\n    title: \"Google registration button event\",\r\n  });\r\n\r\n  return (\r\n    <div className=\"login-button\" id=\"buttonDiv\">\r\n      <GoogleLogin\r\n        clientId=\"139027047038-dq2sqld3ba2fa5fn8ck0ptf335e7kvb6.apps.googleusercontent.com\"\r\n        render={(renderProps) => (\r\n          <Button\r\n            onClick={renderProps.onClick}\r\n            disabled={renderProps.disabled}\r\n            className=\"google-login-btn\"\r\n          >\r\n            <i className=\"fa fa-google\" aria-hidden=\"true\"></i> Sign up with\r\n            <b> Google</b>\r\n          </Button>\r\n        )}\r\n        buttonText=\"Login\"\r\n        onSuccess={handleGoogleLogin}\r\n        onFailure={handleGoogleLogin}\r\n        cookiePolicy={\"single_host_origin\"}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n","import React, { Component } from \"react\";\r\nimport axios from \"axios\";\r\nimport Lottie from \"react-lottie\";\r\nimport { Form, Button } from \"react-bootstrap\";\r\nimport loader from \"../../assets/animation/loader\";\r\n// import Layout from \"../layout/layout\";\r\nimport toast from \"react-hot-toast\";\r\n// import logo from \"../../assets/images/register/logocoin.png\";\r\nimport \"./register.css\";\r\n\r\nconst loaderIcon = {\r\n  loop: true,\r\n  autoplay: true,\r\n  animationData: loader,\r\n};\r\nexport class FormOTP extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      phone: this.props.data.phone,\r\n      otp: \"\",\r\n      message: \"\",\r\n      loading: false,\r\n    };\r\n\r\n    this.handleOTPChange = this.handleOTPChange.bind(this);\r\n  }\r\n\r\n  handleOTPChange(event) {\r\n    this.setState({ otp: event.target.value });\r\n  }\r\n\r\n  formOTP(event) {\r\n    event.preventDefault();\r\n    if (this.state.otp === \"\")\r\n      return this.setState({ message: \"Field is required.\" });\r\n    this.setState({ loading: true });\r\n    axios\r\n      .get(\"https://init-reg-t3e66zpola-ez.a.run.app\", {\r\n        params: {\r\n          service: \"veriOTC\",\r\n          phone: this.state.phone,\r\n          smsOtc: this.state.otp,\r\n        },\r\n      })\r\n      .then((response) => {\r\n        this.setState({ loading: false });\r\n        if (response.data) {\r\n          const ErrorVariable = response.data.error;\r\n          if (ErrorVariable === \"wrong OTC\") {\r\n            toast.success(\"The entered code is incorrect\", {\r\n              id: \"error-login\",\r\n              duration: 4000,\r\n              icon: \"❌\",\r\n              style: {\r\n                borderRadius: \"5px\",\r\n                background: \"#333\",\r\n                color: \"#fff\",\r\n              },\r\n            });\r\n            this.setState({\r\n              message: \"Code is incorrect, please try again.\",\r\n            });\r\n          }\r\n          if (response.data.error === \"no error\") {\r\n            toast.success(\"Please create your account\", {\r\n              id: \"account-Success\",\r\n              icon: \"✔️\",\r\n              style: {\r\n                borderRadius: \"5px\",\r\n                background: \"#333\",\r\n                color: \"#fff\",\r\n              },\r\n            });\r\n            this.setState({\r\n              message: \"Success\",\r\n            });\r\n            this.props.nextStep();\r\n          } else {\r\n            toast.success(ErrorVariable, {\r\n              id: \"backend-error\",\r\n              icon: \"❌\",\r\n              style: {\r\n                borderRadius: \"5px\",\r\n                background: \"#333\",\r\n                color: \"#fff\",\r\n              },\r\n            });\r\n          }\r\n        }\r\n      })\r\n      .catch((error) => {\r\n        this.setState({ loading: false });\r\n        console.log(\"Error fetching and parsing data\", error);\r\n      });\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"profile signup otp-form\">\r\n        <h1>OTP</h1>\r\n        <p>Code sent via SMS, Please fill your OTP to create your account</p>\r\n        <div className=\"rigister-tab\">\r\n          <Form>\r\n            <div className=\"step-2\">\r\n                  <Form.Group controlId=\"formOTP\">\r\n                    <Form.Label>Enter OTP</Form.Label>\r\n                    <Form.Control\r\n                      type=\"number\"\r\n                      placeholder=\"Enter your OTP\"\r\n                      name=\"otp\"\r\n                      autoComplete=\"off\"\r\n                      value={this.state.value}\r\n                      onChange={this.handleOTPChange}\r\n                    />\r\n                    <p style={{ color: \"#b9a11e\" }}>{this.state.message}</p>\r\n                  </Form.Group>\r\n                  <div className=\"text-center\">\r\n                    <Button\r\n                      className=\"s-btn\"\r\n                      type=\"submit\"\r\n                      disabled={this.state.loading}\r\n                      onClick={this.formOTP.bind(this)}\r\n                    >\r\n                      {this.state.loading ? (\r\n                        <Lottie options={loaderIcon} height={30} width={30} />\r\n                      ) : (\r\n                        \"Next\"\r\n                      )}\r\n                    </Button>\r\n                  </div>\r\n            </div>\r\n          </Form>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default FormOTP;\r\n","export default __webpack_public_path__ + \"static/media/DiceLVsmall.2845c8fb.gif\";","import React, { Component } from \"react\";\r\nimport axios from \"axios\";\r\nimport { Form, Button, Modal } from \"react-bootstrap\";\r\nimport { Link } from \"react-router-dom\";\r\nimport Lottie from \"react-lottie\";\r\nimport toast from \"react-hot-toast\";\r\n// import Layout from \"../layout/layout\";\r\n// import logo from \"../../assets/images/register/logocoin.png\";\r\nimport diceLoader from \"../../assets/images/loader/DiceLVsmall.gif\";\r\nimport loader from \"../../assets/animation/loader\";\r\nimport \"./register.css\";\r\nimport firebase from \"../../firebase\";\r\n\r\nconst loaderIcon = {\r\n  loop: true,\r\n  autoplay: true,\r\n  animationData: loader,\r\n};\r\n\r\nexport class FormAccount extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      phone: this.props.data.phone,\r\n      nick: \"\",\r\n      email: this.props.data.email || \"\",\r\n      pw: \"\",\r\n      checked: false,\r\n      message: \"\",\r\n      bonusCoins: this.props.bonusdata.bonusUid,\r\n      loading: false,\r\n    };\r\n\r\n    this.handleNickName = this.handleNickName.bind(this);\r\n    this.handleEmail = this.handleEmail.bind(this);\r\n    this.handlePasswprd = this.handlePasswprd.bind(this);\r\n    this.formCreateAccount = this.formCreateAccount.bind(this);\r\n  }\r\n\r\n  handleNickName(event) {\r\n    const regexAlphabets = /^[a-zA-Z_]+$/;\r\n    if (event.target.value === '' || regexAlphabets.test(event.target.value)) {\r\n       this.setState({\r\n         nick: event.target.value,\r\n      });\r\n    }else{\r\n      this.setState({ message: 'Nick name should contains only alphabets and _' });\r\n    }\r\n    // this.setState({ nick: event.target.value });\r\n  }\r\n\r\n  handleEmail(event) {\r\n    this.setState({ email: event.target.value });\r\n  }\r\n\r\n  handlePasswprd(event) {\r\n    this.setState({ pw: event.target.value });\r\n  }\r\n\r\n  handleChange = (e) => {\r\n    const { checked } = e.target;\r\n    this.setState({\r\n      checked: checked,\r\n    });\r\n  };\r\n\r\n  validate = () => {\r\n    let passError = \"\";\r\n    let nickNameError = \"\";\r\n    let emailError = \"\";\r\n\r\n    if (!this.state.email.includes(\"@\")) {\r\n      emailError = \"Invalid email\";\r\n    }\r\n    if (this.state.nick === \"\") {\r\n      nickNameError = \"Please enter a Nick name\";\r\n    }\r\n    if (this.state.pw === \"\") {\r\n      passError = \"Please enter a password\";\r\n    }\r\n    if (emailError) {\r\n      this.setState({ message: emailError });\r\n      return false;\r\n    }\r\n    if (passError) {\r\n      this.setState({ message: passError });\r\n      return false;\r\n    }\r\n    if (nickNameError) {\r\n      this.setState({ message: nickNameError });\r\n      return false;\r\n    }\r\n    return true;\r\n  };\r\n\r\n  nickValidate = () => {\r\n    let nickVal = this.state.nick;\r\n    let nickError = \"\";\r\n    const regexAlphabets = /^[a-zA-Z_]+$/;\r\n    if (!isNaN(nickVal.charAt(0))) {\r\n      nickError = \"Nick name first letter cannot be empty or a number\";\r\n    }\r\n    if (\r\n      nickVal.includes(\r\n        \"!\",\r\n        \"@\",\r\n        \"~\",\r\n        \"`\",\r\n        \"#\",\r\n        \"$\",\r\n        \"%\",\r\n        \"^\",\r\n        \"&\",\r\n        \"*\",\r\n        \"(\",\r\n        \")\",\r\n        \"+\",\r\n        \"=\",\r\n        \"/\",\r\n        \"|\",\r\n        \"{\",\r\n        \"}\",\r\n        \".\",\r\n      )\r\n    ) {\r\n      nickError = \"Nick name special characters are not allowed\";\r\n    }else if(!regexAlphabets.test(nickVal)){\r\n      nickError = 'Nick name should contains only alphabets and ';\r\n    }\r\n    if (nickError) {\r\n      this.setState({ message: nickError });\r\n      return false;\r\n    }\r\n    return true;\r\n  };\r\n\r\n  termsnValidate = () => {\r\n    let termsChecked = this.state.checked;\r\n    let termsError = \"You must agree to our terms and conditions\";\r\n    if (termsChecked === false) {\r\n      this.setState({ message: termsError });\r\n      return false;\r\n    }\r\n    return true;\r\n  };\r\n\r\n  formCreateAccount(event) {\r\n    event?.preventDefault();\r\n    const isValid = this.validate();\r\n    const nickisValid = this.nickValidate();\r\n    const termsValid = this.termsnValidate();\r\n    if (termsValid) {\r\n      if (isValid && nickisValid) {\r\n        this.setState({ loading: true });\r\n        axios\r\n          .get(\"https://init-reg-t3e66zpola-ez.a.run.app\", {\r\n            params: {\r\n              service: \"createUser\",\r\n              phone: this.state.phone,\r\n              nick: this.state.nick,\r\n              email: this.state.email,\r\n              terms: this.state.checked,\r\n              isMobile: this.props.data.isMobile ? \"yes\" : \"no\",\r\n            },\r\n            headers: {\r\n              adsid: this.state.bonusCoins,\r\n              pw: this.state.pw,\r\n              ip: this.props.data.ip,\r\n              device: this.props.data.deviceId,\r\n            },\r\n          })\r\n          .then((response) => {\r\n            this.setState({ loading: false });\r\n            if (response.data) {\r\n              const myErrorVariable = response.data.error;\r\n              if (myErrorVariable === \"bad password\") {\r\n                this.setState({\r\n                  message:\r\n                    \"Password must contain 8 characters with at least 1 uppercase\",\r\n                });\r\n              }\r\n              if (myErrorVariable === \"nick must be alphanumerical\") {\r\n                toast.success(\r\n                  \"Nick name must be alphanumerical without spaces, (-) score allowed\",\r\n                  {\r\n                    duration: 6000,\r\n                    id: \"nick-alphanumerical\",\r\n                    icon: \"❌\",\r\n                    style: {\r\n                      borderRadius: \"5px\",\r\n                      background: \"#333\",\r\n                      color: \"#fff\",\r\n                    },\r\n                  }\r\n                );\r\n                this.setState({\r\n                  message:\r\n                    \"Nick name must be alphanumerical without spaces, (-) score allowed\",\r\n                });\r\n              }\r\n              if (myErrorVariable === \"nick exists\") {\r\n                toast.success(\r\n                  \"Sorry username already taken, please choose another\",\r\n                  {\r\n                    id: \"username-taken\",\r\n                    duration: 3000,\r\n                    icon: \"❌\",\r\n                    style: {\r\n                      borderRadius: \"5px\",\r\n                      background: \"#333\",\r\n                      color: \"#fff\",\r\n                    },\r\n                  }\r\n                );\r\n                this.setState({\r\n                  message:\r\n                    \"Sorry username already taken, please choose another\",\r\n                });\r\n              }\r\n              if (myErrorVariable === \"this nick is forbidden\") {\r\n                toast.success(\"Special characters not allowed in nickname\", {\r\n                  id: \"nickname-not-allowed\",\r\n                  duration: 3000,\r\n                  icon: \"❌\",\r\n                  style: {\r\n                    borderRadius: \"5px\",\r\n                    background: \"#333\",\r\n                    color: \"#fff\",\r\n                  },\r\n                });\r\n                this.setState({\r\n                  message: \"Special characters not allowed in nickname\",\r\n                });\r\n              }\r\n              if (myErrorVariable === \"nick too long\") {\r\n                toast.success(\"nickName is too long, please change it\", {\r\n                  id: \"nickname-long\",\r\n                  duration: 3000,\r\n                  icon: \"❌\",\r\n                  style: {\r\n                    borderRadius: \"5px\",\r\n                    background: \"#333\",\r\n                    color: \"#fff\",\r\n                  },\r\n                });\r\n                this.setState({\r\n                  message: \"nickName is too long, please change it\",\r\n                });\r\n              }\r\n              if (myErrorVariable === \"nick too short\") {\r\n                toast.success(\"nickName is nick too short, please change it\", {\r\n                  id: \"nickname-short\",\r\n                  duration: 3000,\r\n                  icon: \"❌\",\r\n                  style: {\r\n                    borderRadius: \"5px\",\r\n                    background: \"#333\",\r\n                    color: \"#fff\",\r\n                  },\r\n                });\r\n                this.setState({\r\n                  message: \"nickName is too long, please change it\",\r\n                });\r\n              }\r\n              if (myErrorVariable === \"email exists\") {\r\n                toast.success(\r\n                  \"Email already exists, please choose a different email\",\r\n                  {\r\n                    id: \"email-taken\",\r\n                    duration: 3000,\r\n                    icon: \"❌\",\r\n                    style: {\r\n                      borderRadius: \"5px\",\r\n                      background: \"#333\",\r\n                      color: \"#fff\",\r\n                    },\r\n                  }\r\n                );\r\n                this.setState({\r\n                  message:\r\n                    \"Email already exists. please choose a different email\",\r\n                });\r\n              }\r\n              if (\r\n                myErrorVariable ===\r\n                \"The user with the provided email already exists (EMAIL_EXISTS).\"\r\n              ) {\r\n                toast.success(\r\n                  \"Email already exists, please choose a different email\",\r\n                  {\r\n                    id: \"email-taken2\",\r\n                    duration: 3000,\r\n                    icon: \"❌\",\r\n                    style: {\r\n                      borderRadius: \"5px\",\r\n                      background: \"#333\",\r\n                      color: \"#fff\",\r\n                    },\r\n                  }\r\n                );\r\n                this.setState({\r\n                  message:\r\n                    \"Email already exists. please choose a different email\",\r\n                });\r\n              }\r\n              if (myErrorVariable === \"terms not accepted\") {\r\n                toast.success(\"Please agree to the terms and conditions\", {\r\n                  id: \"error-login\",\r\n                  duration: 4000,\r\n                  icon: \"❌\",\r\n                  style: {\r\n                    borderRadius: \"5px\",\r\n                    background: \"#333\",\r\n                    color: \"#fff\",\r\n                  },\r\n                });\r\n                this.setState({\r\n                  message: \"You must agree to the terms and conditions\",\r\n                });\r\n              }\r\n              if (\r\n                response.data.error === \"no error\" &&\r\n                response.data.success === true\r\n              ) {\r\n                toast.success(\r\n                  \"Account created, Verification link sent to your email\",\r\n                  {\r\n                    duration: 6000,\r\n                    id: \"account-success\",\r\n                    icon: \"✔️\",\r\n                    style: {\r\n                      borderRadius: \"5px\",\r\n                      background: \"#333\",\r\n                      color: \"#fff\",\r\n                    },\r\n                  }\r\n                );\r\n\r\n                window.gtag(\"event\", \"new_register\", {\r\n                  author: \"Register\",\r\n                  title: \"New user registration to system\",\r\n                });\r\n                this.setState({\r\n                  message: \"Account successfully created\",\r\n                });\r\n                firebase\r\n                  .auth()\r\n                  .signInWithCustomToken(response.data.idtoken)\r\n                  .then(async (userCredential) => {\r\n                    var user = userCredential.user;\r\n                    const idToken = await firebase\r\n                      .auth()\r\n                      .currentUser.getIdToken(true);\r\n                    localStorage.setItem(\"xtkn\", response.data.idtoken);\r\n                    localStorage.setItem(\"uid\", user.uid);\r\n                    await axios.get(\r\n                      \"https://push-token-init-t3e66zpola-uc.a.run.app/addUid\",\r\n                      {\r\n                        headers: {\r\n                          Idtoken: idToken,\r\n                          fmctoken: localStorage.getItem(\"fmcToken\"),\r\n                        },\r\n                      }\r\n                    );\r\n                    this.props.gotoProfilePage();\r\n                  })\r\n                  .catch((error) => {\r\n                    console.log(error, \"error\");\r\n                    this.setState({\r\n                      message: error.message,\r\n                    });\r\n                    // ...\r\n                  });\r\n              } else {\r\n                toast.success(myErrorVariable, {\r\n                  id: \"backend-error\",\r\n                  icon: \"❌\",\r\n                  style: {\r\n                    borderRadius: \"5px\",\r\n                    background: \"#333\",\r\n                    color: \"#fff\",\r\n                  },\r\n                });\r\n              }\r\n            }\r\n            this.setState({\r\n              data: response.data,\r\n            });\r\n          })\r\n          .catch((error) => {\r\n            this.setState({ loading: false });\r\n            console.log(\"Error fetching and parsing data\", error);\r\n          });\r\n      }\r\n    }\r\n  }\r\n\r\n  handleRegisterClick = async (event) => {\r\n    event.preventDefault();\r\n    if (this.props.data.isGoogle) {\r\n      const isValid = this.validate();\r\n      const nickisValid = this.nickValidate();\r\n      const termsValid = this.termsnValidate();\r\n\r\n      if (termsValid && isValid && nickisValid) {\r\n        this.setState({ loading: true });\r\n        const response = await this.props.handleGmailRegsiter({\r\n          nick: this.state.nick,\r\n          password: this.state.pw,\r\n          terms: this.state.checked,\r\n        });\r\n        this.setState({ loading: false });\r\n        const myErrorVariable = response.data.error;\r\n        if (myErrorVariable === \"bad password\") {\r\n          this.setState({\r\n            message:\r\n              \"Password must contain 8 characters with at least 1 uppercase\",\r\n          });\r\n        }\r\n        if (myErrorVariable === \"nick must be alphanumerical\") {\r\n          toast.success(\r\n            \"Nick name must be alphanumerical without spaces, (-) only score allowed\",\r\n            {\r\n              duration: 6000,\r\n              id: \"nick-alphanumerical\",\r\n              icon: \"❌\",\r\n              style: {\r\n                borderRadius: \"5px\",\r\n                background: \"#333\",\r\n                color: \"#fff\",\r\n              },\r\n            }\r\n          );\r\n          this.setState({\r\n            message:\r\n              \"Nick name must be alphanumerical without spaces, only (-) score allowed\",\r\n          });\r\n        }\r\n        if (myErrorVariable === \"nick exists\") {\r\n          toast.success(\"Sorry username already taken, please choose another\", {\r\n            id: \"username-taken\",\r\n            duration: 3000,\r\n            icon: \"❌\",\r\n            style: {\r\n              borderRadius: \"5px\",\r\n              background: \"#333\",\r\n              color: \"#fff\",\r\n            },\r\n          });\r\n          this.setState({\r\n            message: \"Sorry username already taken, please choose another\",\r\n          });\r\n        }\r\n        if (myErrorVariable === \"email exists\") {\r\n          toast.success(\r\n            \"Email already exists, please choose a different email\",\r\n            {\r\n              id: \"email-taken\",\r\n              duration: 3000,\r\n              icon: \"❌\",\r\n              style: {\r\n                borderRadius: \"5px\",\r\n                background: \"#333\",\r\n                color: \"#fff\",\r\n              },\r\n            }\r\n          );\r\n          this.setState({\r\n            message: \"Email already exists. please choose a different email\",\r\n          });\r\n        }\r\n        if (\r\n          myErrorVariable ===\r\n          \"The user with the provided email already exists (EMAIL_EXISTS).\"\r\n        ) {\r\n          toast.success(\r\n            \"Email already exists, please choose a different email\",\r\n            {\r\n              id: \"email-taken2\",\r\n              duration: 3000,\r\n              icon: \"❌\",\r\n              style: {\r\n                borderRadius: \"5px\",\r\n                background: \"#333\",\r\n                color: \"#fff\",\r\n              },\r\n            }\r\n          );\r\n          this.setState({\r\n            message: \"Email already exists. please choose a different email\",\r\n          });\r\n        }\r\n        if (myErrorVariable === \"terms not accepted\") {\r\n          toast.success(\"Please agree to the terms and conditions\", {\r\n            id: \"error-login\",\r\n            duration: 4000,\r\n            icon: \"❌\",\r\n            style: {\r\n              borderRadius: \"5px\",\r\n              background: \"#333\",\r\n              color: \"#fff\",\r\n            },\r\n          });\r\n          this.setState({\r\n            message: \"You must agree to the terms and conditions\",\r\n          });\r\n        }\r\n        if (\r\n          response.data.error === \"no error\" &&\r\n          response.data.success === true\r\n        ) {\r\n          toast.success(\"Account created, please login..\", {\r\n            duration: 6000,\r\n            id: \"account-success\",\r\n            icon: \"✔️\",\r\n            style: {\r\n              borderRadius: \"5px\",\r\n              background: \"#333\",\r\n              color: \"#fff\",\r\n            },\r\n          });\r\n          window.gtag(\"event\", \"new_register\", {\r\n            author: \"Register\",\r\n            title: \"New user registration to system\",\r\n          });\r\n          this.setState({\r\n            message: \"Account successfully created\",\r\n          });\r\n          this.props.goToLogin();\r\n        }\r\n      }\r\n    } else {\r\n      this.formCreateAccount(event);\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"profile signup account-create\">\r\n        <h1>One More Step</h1>\r\n        <p1>Complete registration data</p1>\r\n        <div className=\"rigister-tab\">\r\n          <Form>\r\n            <div className=\"step-3\">\r\n              <div className=\"row\">\r\n                <div className=\"col-md-6\">\r\n                  <Form.Group controlId=\"formNickName\">\r\n                    <Form.Label>Nick Name</Form.Label>\r\n                    <Form.Control\r\n                      type=\"text\"\r\n                      placeholder=\"Enter your nickname\"\r\n                      name=\"nickname\"\r\n                      autoComplete=\"off\"\r\n                      value={this.state.nick}\r\n                      onChange={this.handleNickName}\r\n                      required\r\n                    />\r\n                  </Form.Group>\r\n                </div>\r\n                <div className=\"col-md-6\">\r\n                  <Form.Group controlId=\"formBasicEmail\">\r\n                    <Form.Label>Email</Form.Label>\r\n                    <Form.Control\r\n                      type=\"email\"\r\n                      placeholder=\"Enter your email\"\r\n                      name=\"email\"\r\n                      autoComplete=\"off\"\r\n                      disabled={this.props.data.isGoogle}\r\n                      value={this.state.email}\r\n                      onChange={this.handleEmail}\r\n                      required\r\n                    />\r\n                  </Form.Group>\r\n                </div>\r\n                <div className=\"col-md-12 password-des\">\r\n                  <Form.Group controlId=\"formBasicPassword\">\r\n                    <Form.Label>Password</Form.Label>\r\n                    <Form.Control\r\n                      type=\"password\"\r\n                      placeholder=\"Enter your password\"\r\n                      name=\"password\"\r\n                      autoComplete=\"off\"\r\n                      value={this.state.value}\r\n                      onChange={this.handlePasswprd}\r\n                      required\r\n                    />\r\n                    <p style={{ color: \"#b9a11e\" }}>{this.state.message}</p>\r\n                    <p style={{ color: \"#b9a11e\" }}>{this.state.emailError}</p>\r\n                  </Form.Group>\r\n                </div>\r\n\r\n                <div className=\"agreebox col-md-12\">\r\n                  <input\r\n                    type=\"checkbox\"\r\n                    className=\"checkbox16 form-check-input\"\r\n                    onChange={(e) => this.handleChange(e)}\r\n                    defaultChecked={this.state.checked}\r\n                  />\r\n                  <small>\r\n                    &nbsp; I am 21 years of age or older and agree to{\" \"}\r\n                    <Link\r\n                      className=\"signup-link\"\r\n                      target=\"_blank\"\r\n                      to={\"/terms-of-use\"}\r\n                    >\r\n                      Terms\r\n                    </Link>\r\n                    &nbsp; and &nbsp;\r\n                    <Link\r\n                      className=\"signup-link\"\r\n                      target=\"_blank\"\r\n                      to={\"/privacy-policy\"}\r\n                    >\r\n                      Privacy policy\r\n                    </Link>\r\n                  </small>\r\n                </div>\r\n\r\n                <div className=\"col-md-12\">\r\n                  <div className=\"text-center\">\r\n                    <Button\r\n                      className=\"s-btn\"\r\n                      type=\"submit\"\r\n                      onClick={this.handleRegisterClick}\r\n                      disabled={this.state.loading}\r\n                    >\r\n                      {this.state.loading ? (\r\n                        <Lottie options={loaderIcon} height={30} width={30} />\r\n                      ) : (\r\n                        \"Create Account\"\r\n                      )}\r\n                    </Button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </Form>\r\n        </div>\r\n        <Modal show={this.state.loading} centered className=\"loader-popup\">\r\n          <Modal.Body>\r\n            <div className=\"loader-popup-content\">\r\n              <img src={diceLoader} alt=\"loader\" />\r\n              <h3>Account is creating...</h3>\r\n            </div>\r\n          </Modal.Body>\r\n        </Modal>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default FormAccount;\r\n","import React, { useState } from \"react\";\r\nimport { Button, Form, Spinner } from \"react-bootstrap\";\r\n// import Layout from \"../layout/layout\";\r\n// import logo from \"../../assets/images/header/Final-Logo-PNG-text.png\";\r\nimport toast from \"react-hot-toast\";\r\nimport { Link } from \"react-router-dom\";\r\nimport firebase from \"../../firebase\";\r\nimport axios from \"axios\";\r\nimport { useEffect } from \"react\";\r\n\r\nconst FormGmailUserNickName = (props) => {\r\n  const [loading, setLoading] = useState(false);\r\n  const [nick, setNick] = useState(\"\");\r\n  const [message, setMessage] = useState(\"\");\r\n  const [checked, setChecked] = useState(false);\r\n  const regexAlphabets =  /^[a-zA-Z_]+$/;\r\n\r\n  useEffect(()=>{\r\n\tconst geolocationSuccess = async(position) => {\r\n\t\tconst {\r\n\t\t  coords: { latitude, longitude },\r\n\t\t} = position;\r\n\t\tconsole.log(\"Dsdsd =>\", position);\r\n\t\tconst res = await axios.get(\r\n\t\t  `http://api.geonames.org/countryCodeJSON?lat=${latitude}&lng=${longitude}&username=rizwanwebsul`\r\n\t\t);\r\n\t\tconsole.log(\"res =>\", res.data);\r\n\t\tthis.setState({ countryCode: res.data.countryCode });\r\n\t\tthis.handleUserOrigin(this.state.ip, res.data.countryCode);\r\n\t  }\r\n\t  const getCountryCode = async() => {\r\n\t  let countryCode;\r\n    const url =\r\n      \"https://geolocation-db.com/json/0f761a30-fe14-11e9-b59f-e53803842572\";\r\n    const response = await axios.get(url);\r\n    let { data } = response;\r\n    if (data.country_code === \"Not found\" || !data?.country_code) {\r\n      const res = await axios.get(\"https://www.cloudflare.com/cdn-cgi/trace\");\r\n      const values = res.data.split(\"\\n\");\r\n      let obj = {};\r\n      values.forEach((value) => {\r\n        obj[value.split(\"=\")[0]] = value.split(\"=\")[1];\r\n      });\r\n      data = { IPv4: obj.ip, country_code: obj.loc };\r\n    }\r\n    props.handleUserOrigin(data.IPv4, data.country_code);\r\n    countryCode = data.country_code;\r\n\r\n    // SetUp phone Country code flag according to Geolocation data.country_name IP\r\n    if (\r\n      countryCode === \"International\" ||\r\n      countryCode === \"Not found\" ||\r\n      countryCode === \"\" ||\r\n      !countryCode\r\n    ) {\r\n      if (window.navigator) {\r\n        window.navigator.geolocation.getCurrentPosition(\r\n          async (position) => {\r\n            countryCode = await geolocationSuccess(position);\r\n          },\r\n          (err) => {\r\n            console.log(\"error in geolocation\", err);\r\n          },\r\n          {\r\n            enableHighAccuracy: true,\r\n            timeout: 5000,\r\n            maximumAge: 0,\r\n          }\r\n        );\r\n      }\r\n    }\r\n\r\n}\r\ngetCountryCode()\r\n  },[])\r\n  const handleChange = (event) => {\r\n\t\r\n    if (event.target.value === '' || regexAlphabets.test(event.target.value)) {\r\n\t\tsetNick(event.target.value);\r\n    }else{\r\n      setMessage( 'Nick name should contains only alphabets and _' );\r\n    }\r\n    \r\n  };\r\n\r\n  const nickValidate = () => {\r\n    let nickError = \"\";\r\n    if (!isNaN(nick.charAt(0))) {\r\n      nickError = \"Nick name first letter cannot be empty or a number\";\r\n    }\r\n    if (!regexAlphabets.test(nick)) {\r\n      nickError = \"'Nick name should contains only alphabets and _\";\r\n    }\r\n    if (nickError) {\r\n      setMessage(nickError);\r\n      return false;\r\n    }\r\n    return true;\r\n  };\r\n\r\n  const termsnValidate = () => {\r\n    let termsChecked = checked;\r\n    let termsError = \"You must agree to our terms and conditions\";\r\n    if (termsChecked === false) {\r\n      setMessage(termsError);\r\n      return false;\r\n    }\r\n    return true;\r\n  };\r\n\r\n  const handleRegisterClick = async (event) => {\r\n    event.preventDefault();\r\n\r\n    const nickisValid = nickValidate();\r\n    const termsValid = termsnValidate();\r\n    if (termsValid && nickisValid) {\r\n      setLoading(true);\r\n      const response = await props.handleGmailRegsiter({\r\n        nick: nick,\r\n        terms: checked,\r\n      });\r\n      setLoading(false);\r\n      const myErrorVariable = response.data.error;\r\n      if (myErrorVariable === \"bad password\") {\r\n        setMessage(\r\n          \"Password must contain 8 characters with at least 1 uppercase\"\r\n        );\r\n      }\r\n      if (myErrorVariable === \"nick must be alphanumerical\") {\r\n        toast.success(\r\n          \"Nick name must be alphanumerical without spaces, (-) score allowed\",\r\n          {\r\n            duration: 6000,\r\n            id: \"nick-alphanumerical\",\r\n            icon: \"❌\",\r\n            style: {\r\n              borderRadius: \"5px\",\r\n              background: \"#333\",\r\n              color: \"#fff\",\r\n            },\r\n          }\r\n        );\r\n        setMessage(\r\n          \"Nick name must be alphanumerical without spaces, (-) score allowed\"\r\n        );\r\n      }\r\n      if (myErrorVariable === \"nick exists\") {\r\n        toast.success(\"Sorry username already taken, please choose another\", {\r\n          id: \"username-taken\",\r\n          duration: 3000,\r\n          icon: \"❌\",\r\n          style: {\r\n            borderRadius: \"5px\",\r\n            background: \"#333\",\r\n            color: \"#fff\",\r\n          },\r\n        });\r\n        setMessage(\"Sorry username already taken, please choose another\");\r\n      }\r\n      if (myErrorVariable === \"email belongs to active user\") {\r\n        toast.success(\"Email already in use, please choose another\", {\r\n          id: \"email-taken\",\r\n          duration: 3000,\r\n          icon: \"❌\",\r\n          style: {\r\n            borderRadius: \"5px\",\r\n            background: \"#333\",\r\n            color: \"#fff\",\r\n          },\r\n        });\r\n        setMessage(\"Sorry email already taken, please choose another\");\r\n      }\r\n      if (myErrorVariable === \"registration denied. Phone belongs to user\") {\r\n        toast.success(\"User exits with your Gmail phone number\", {\r\n          id: \"email-taken\",\r\n          duration: 3000,\r\n          icon: \"❌\",\r\n          style: {\r\n            borderRadius: \"5px\",\r\n            background: \"#333\",\r\n            color: \"#fff\",\r\n          },\r\n        });\r\n        setMessage(\"Sorry email already taken, please choose another\");\r\n      }\r\n      if (myErrorVariable === \"terms not accepted\") {\r\n        toast.success(\"Please agree to the terms and conditions\", {\r\n          id: \"error-login\",\r\n          duration: 4000,\r\n          icon: \"❌\",\r\n          style: {\r\n            borderRadius: \"5px\",\r\n            background: \"#333\",\r\n            color: \"#fff\",\r\n          },\r\n        });\r\n        setMessage(\"You must agree to the terms and conditions\");\r\n      }\r\n      if (\r\n        response.data.error === \"no error\" &&\r\n        response.data.success === true\r\n      ) {\r\n        toast.success(\"Account created, Successfull login..\", {\r\n          duration: 6000,\r\n          id: \"account-success\",\r\n          icon: \"✔️\",\r\n          style: {\r\n            borderRadius: \"5px\",\r\n            background: \"#333\",\r\n            color: \"#fff\",\r\n          },\r\n        });\r\n        window.gtag(\"event\", \"new_register\", {\r\n          author: \"Register\",\r\n          title: \"New user registration to system\",\r\n        });\r\n        setMessage(\"Account successfully created\");\r\n\r\n        firebase\r\n          .auth()\r\n          .signInWithCustomToken(response.data.idtoken)\r\n          .then(async (userCredential) => {\r\n            var user = userCredential.user;\r\n            const idToken = await firebase.auth().currentUser.getIdToken(true);\r\n            await axios.get(\r\n              \"https://push-token-init-t3e66zpola-uc.a.run.app/addUid\",\r\n              {\r\n                headers: {\r\n                  Idtoken: idToken,\r\n                  fmctoken: localStorage.getItem(\"fmcToken\"),\r\n                },\r\n              }\r\n            );\r\n            localStorage.setItem(\"xtkn\", response.data.idtoken);\r\n            localStorage.setItem(\"uid\", user.uid);\r\n            setMessage(\"Successfully login\");\r\n            props.gotoProfilePage()\r\n          })\r\n          .catch((error) => {\r\n            console.log(error, \"error\");\r\n            setMessage(error.message);\r\n            // ...\r\n          });\r\n      } else {\r\n        toast.success(myErrorVariable, {\r\n          id: \"backend-error\",\r\n          icon: \"❌\",\r\n          style: {\r\n            borderRadius: \"5px\",\r\n            background: \"#333\",\r\n            color: \"#fff\",\r\n          },\r\n        });\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleChecked = (e) => {\r\n    const { checked } = e.target;\r\n    setChecked(checked);\r\n  };\r\n\r\n  return (\r\n    <div className=\"profile signup account-create\">\r\n      <h1>One More Step</h1>\r\n      <p1>Choose Your Nickname</p1>\r\n      <div className=\"rigister-tab\">\r\n        <Form>\r\n          <div className=\"step-3\">\r\n            <Form.Group controlId=\"formNickName\">\r\n              <Form.Label>Nick Name</Form.Label>\r\n              <Form.Control\r\n                type=\"text\"\r\n                placeholder=\"Enter your nickname\"\r\n                name=\"nickname\"\r\n                autoComplete=\"off\"\r\n                //defaultValue={nick}\r\n\t\t\t\tvalue={nick}\r\n                onChange={handleChange}\r\n                required\r\n              />\r\n\r\n              <p style={{ color: \"#b9a11e\" }}>{message}</p>\r\n            </Form.Group>\r\n            <div className=\"agreebox\">\r\n              <input\r\n                type=\"checkbox\"\r\n                className=\"checkbox16\"\r\n                onChange={handleChecked}\r\n                defaultChecked={checked}\r\n              />\r\n              <small>\r\n                &nbsp; I am 21 years of age or older and agree to{\" \"}\r\n                <Link\r\n                  className=\"signup-link\"\r\n                  target=\"_blank\"\r\n                  to={\"/terms-of-use\"}\r\n                >\r\n                  Terms\r\n                </Link>\r\n                &nbsp; and &nbsp;\r\n                <Link\r\n                  className=\"signup-link\"\r\n                  target=\"_blank\"\r\n                  to={\"/privacy-policy\"}\r\n                >\r\n                  Privacy policy\r\n                </Link>\r\n              </small>\r\n            </div>\r\n            <div className=\"text-center\">\r\n              <Button\r\n                className=\"s-btn\"\r\n                type=\"submit\"\r\n                disabled={loading}\r\n                onClick={handleRegisterClick}\r\n              >\r\n                {loading ? <Spinner animation=\"border\" /> : \"Create Account\"}\r\n              </Button>\r\n            </div>\r\n          </div>\r\n        </Form>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default FormGmailUserNickName;\r\n","import React, { Component } from \"react\";\r\nimport FormPhone from \"./formPhone\";\r\nimport FormOTP from \"./formOTP\";\r\nimport FormAccount from \"./formAccount\";\r\nimport firebase from \"../../firebase\";\r\nimport {\r\n  mobileVendor,\r\n  // BrowserView,\r\n  // MobileView,\r\n  // isSafari,\r\n  // isIOS,\r\n  isMobile,\r\n  browserName,\r\n  mobileModel,\r\n  getUA,\r\n} from \"react-device-detect\";\r\nimport { Redirect, withRouter } from \"react-router-dom\";\r\nimport \"./register.css\";\r\nimport axios from \"axios\";\r\nimport FormGmailUserNickName from \"./formGmailUserNickName\";\r\nimport toast from \"react-hot-toast\";\r\n\r\nclass Register extends Component {\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      step: 1,\r\n      redirect: null,\r\n      phone: \"\",\r\n      bonusUid: \"no\",\r\n      email: \"\",\r\n      deviceId: \"\",\r\n\t  ip:\"\",\r\n      isGoogle: false,\r\n      accessToken: \"\",\r\n      countryCode: \"US\",\r\n      birthday: \"\",\r\n      gender: \"\",\r\n\t  query: \"\",\r\n    };\r\n  }\r\n\r\n  async componentDidMount() {\r\n    firebase.auth().onAuthStateChanged((user) => {\r\n      if (user) {\r\n        this.setState({\r\n          redirect: \"/profile\",\r\n        });\r\n      }\r\n    });\r\n\tconst urlParams  = new URLSearchParams(window.location.search);\r\n\tif(urlParams.get('email')){\r\n\t\tthis.setState({ isGoogle: true, email: urlParams.get(\"email\"), step: 4});\r\n\t}\r\n    var rx = new RegExp(/[?&]adsId=([^&]+).*$/);\r\n    var returnVal = window.location.search.match(rx);\r\n    if (returnVal == null) {\r\n      this.setState({ bonusUid: \"no\" });\r\n    } else {\r\n      let bonusCoins = returnVal[1];\r\n      this.setState({ bonusUid: bonusCoins });\r\n    }\r\n  }\r\n\r\n  phoneUpdate = (phoneVar) => {\r\n    this.setState({\r\n      phone: phoneVar,\r\n    });\r\n  };\r\n\r\n  emailUpdate = (value) => {\r\n    this.setState({ email: value });\r\n  };\r\n\r\n  handleDeviceId = () => {\r\n    const srt =\r\n      \"browserName_\" +\r\n      browserName +\r\n      \"_mobileVendor_\" +\r\n      mobileVendor +\r\n      \"_mobileModel_\" +\r\n      mobileModel +\r\n      \"_UA_\" +\r\n      getUA +\r\n      this.state.ip;\r\n    var device_str_id = srt.replace(/[^A-Z0-9]/gi, \"_\");\r\n    this.setState({ deviceId: device_str_id });\r\n    localStorage.setItem(\"deviceId\", device_str_id);\r\n  };\r\n\r\n  handleGoogleLogin = async (email, accessToken, countryCode) => {\r\n\ttoast.success(\"One moment please..\", {\r\n\t\tid: \"please-wait-login\",\r\n\t\ticon: \"♠️\",\r\n\t\tstyle: {\r\n\t\t  borderRadius: \"5px\",\r\n\t\t  background: \"#333\",\r\n\t\t  color: \"#fff\",\r\n\t\t},\r\n\t  });\r\n\t  const response = await axios.get(\r\n\t\t`https://login-google-mail-t3e66zpola-uc.a.run.app/`,\r\n\t\t{\r\n\t\t  headers: {\r\n\t\t\temail,\r\n\t\t\tip: this.state.ip,\r\n\t\t\tdeviceId: this.state.deviceId,\r\n\t\t  },\r\n\t\t  params: {\r\n\t\t\tisMobile: isMobile ? \"yes\" : \"no\",\r\n\t\t  },\r\n\t\t}\r\n\t  );\r\n\t  this.setState({ loading: \"\" });\r\n\t  if (response.data.error === \"no error\") {\r\n\t\ttoast.success(\"Successfully Logged in\", {\r\n\t\t  id: \"Successfully-Logged\",\r\n\t\t  icon: \"🎮\",\r\n\t\t  style: {\r\n\t\t\tborderRadius: \"5px\",\r\n\t\t\tbackground: \"#333\",\r\n\t\t\tcolor: \"#fff\",\r\n\t\t  },\r\n\t\t});\r\n\t\tfirebase\r\n\t\t  .auth()\r\n\t\t  .signInWithCustomToken(response.data.idtoken)\r\n\t\t  .then(async (userCredential) => {\r\n\t\t\tvar user = userCredential.user;\r\n\t\t\tconst idToken = await firebase.auth().currentUser.getIdToken(true);\r\n\t\t\tthis.setState({\r\n\t\t\t  uid: user.uid,\r\n\t\t\t  idToken: response.data.idtoken,\r\n\t\t\t});\r\n\t\t\tlocalStorage.setItem(\"xtkn\", response.data.idtoken);\r\n\t\t\tlocalStorage.setItem(\"uid\", user.uid);\r\n\t\t\tawait axios.get(\r\n\t\t\t  \"https://push-token-init-t3e66zpola-uc.a.run.app/addUid\",\r\n\t\t\t  {\r\n\t\t\t\theaders: {\r\n\t\t\t\t  Idtoken: idToken,\r\n\t\t\t\t  fmctoken: localStorage.getItem(\"fmcToken\"),\r\n\t\t\t\t},\r\n\t\t\t  }\r\n\t\t\t);\r\n\t\t\tthis.setState({ message: \"Successfully login\" });\r\n\t\t\tthis.goToProfile();\r\n\t\t\t// ...\r\n\t\t  })\r\n\t\t  .catch((error) => {\r\n\t\t\tconsole.log(error, \"error\");\r\n\t\t\tthis.setState({ message: error.message });\r\n\t\t\t// ...\r\n\t\t  });\r\n\t  }\r\n\t  if (response.data.error === \"already logged-in and inGame\") {\r\n\t\tthis.setState({\r\n\t\t  message: \"User already logged-in and inGame\",\r\n\t\t});\r\n\t\ttoast.success(\"User already login and playing a game at the moment\", {\r\n\t\t  duration: 6000,\r\n\t\t  id: \"loggedin-inGame\",\r\n\t\t  icon: \"❌\",\r\n\t\t  style: {\r\n\t\t\tborderRadius: \"5px\",\r\n\t\t\tbackground: \"#333\",\r\n\t\t\tcolor: \"#fff\",\r\n\t\t  },\r\n\t\t});\r\n\t  } if (response.data.error === \"no user with that email\") {\r\n\t  \r\n    window.gtag(\"event\", \"Google_registration_success\", {\r\n        title: \"Google registration button event\",\r\n      });\r\n    this.setState({ isGoogle: true, email, step: 4, accessToken, countryCode });\r\n    const res = await axios.get(\r\n      `https://people.googleapis.com/v1/people/me?personFields=phoneNumbers,birthdays,genders,locations&access_token=${accessToken}`\r\n    );\r\n    console.log(\"res =>\", res.data, accessToken);\r\n    const {\r\n      data: { phoneNumbers, birthdays, genders },\r\n    } = res;\r\n    if (phoneNumbers?.length) {\r\n      this.setState({ phone: phoneNumbers[0].canonicalForm });\r\n    }\r\n    if (birthdays?.length) {\r\n      const { month, day } = birthdays[0].date;\r\n      let dd = new Date();\r\n      dd.setMonth(month);\r\n      dd.setDate(day);\r\n      this.setState({ birthday: dd.toISOString() });\r\n    }\r\n    if (genders?.length) {\r\n      this.setState({ gender: genders[0].value });\r\n    }\r\n\r\n} else if (response.data.sucess === false) {\r\nthis.setState({ message: response.data.error });\r\ntoast.success(this.state.message, {\r\n  id: \"error-login\",\r\n  icon: \"❌\",\r\n  style: {\r\n\tborderRadius: \"5px\",\r\n\tbackground: \"#333\",\r\n\tcolor: \"#fff\",\r\n  },\r\n});\r\n}\r\n  };\r\n\r\n  handleUserOrigin = (ip, countryCode) => {\r\n\tthis.setState({ ip, countryCode});\r\n\tthis.handleDeviceId()\r\n  }\r\n\r\n  // Proceed to next step\r\n  nextStep = (value) => {\r\n    const { step } = this.state;\r\n    this.setState({\r\n      step: value ? value : step + 1,\r\n    });\r\n  };\r\n\r\n  // Goto login\r\n  goToLogin = () => {\r\n    this.setState({ redirect: \"/login\" });\r\n  };\r\n\r\n  gotoProfilePage = () => {\r\n    this.setState({ redirect: \"/profile\" });\r\n    this.props.history.push({\r\n      pathname: \"/profile\",\r\n      state: { newRegister: true },\r\n    });\r\n  };\r\n\r\n  handleGmailRegsiter = async (values) => {\r\n    localStorage.removeItem(\"welcomePopup\");\r\n    const res = await axios.get(\r\n      \"https://create-user-google-t3e66zpola-uc.a.run.app/\",\r\n      {\r\n        headers: {\r\n          ip: this.state.ip,\r\n          device: this.state.deviceId,\r\n          fmctoken: localStorage.getItem(\"fmcToken\")\r\n            ? localStorage.getItem(\"fmcToken\")\r\n            : \"no\",\r\n        },\r\n        params: {\r\n          email: this.state.email,\r\n          isMobile: isMobile ? \"yes\" : \"no\",\r\n          phone: this.state.phone || \"no\",\r\n          nick: values.nick,\r\n          terms: values.terms,\r\n          countryCode: this.state.countryCode || 'US',\r\n          birth: this.state.birthday,\r\n          gender: this.state.gender,\r\n        },\r\n      }\r\n    );\r\n    console.log(res.data);\r\n    return res;\r\n  };\r\n\r\n  render() {\r\n    if (this.state.redirect) {\r\n      return <Redirect to={this.state.redirect} />;\r\n    }\r\n\r\n    const { step } = this.state;\r\n\r\n    switch (step) {\r\n      case 1:\r\n        return (\r\n          <FormPhone\r\n            nextStep={this.nextStep}\r\n            phoneUpdate={this.phoneUpdate}\r\n            data={{ phone: this.state.phone }}\r\n            handleGoogleLogin={this.handleGoogleLogin}\r\n\t\t\thandleUserOrigin={this.handleUserOrigin}\r\n          />\r\n        );\r\n\r\n      case 2:\r\n        return (\r\n          <FormOTP\r\n            nextStep={this.nextStep}\r\n            phoneUpdate={this.phoneUpdate}\r\n            data={{ phone: this.state.phone }}\r\n          />\r\n        );\r\n\r\n      case 3:\r\n        return (\r\n          <FormAccount\r\n            goToLogin={this.goToLogin}\r\n            phoneUpdate={this.phoneUpdate}\r\n            gotoProfilePage={this.gotoProfilePage}\r\n            data={{\r\n              phone: this.state.phone,\r\n              email: this.state.email,\r\n              isGoogle: this.state.isGoogle,\r\n              ip: this.state.ip,\r\n              isMobile: isMobile ? \"yes\" : \"no\",\r\n              deviceId: this.state.deviceId,\r\n            }}\r\n            bonusdata={{ bonusUid: this.state.bonusUid }}\r\n            handleGmailRegsiter={this.handleGmailRegsiter}\r\n          />\r\n        );\r\n\r\n      case 4:\r\n        return (\r\n          <FormGmailUserNickName\r\n            goToLogin={this.goToLogin}\r\n\t\t    \t  gotoProfilePage={this.gotoProfilePage}\r\n            data={{\r\n              phone: this.state.phone,\r\n              email: this.state.email,\r\n              isGoogle: this.state.isGoogle,\r\n            }}\r\n            handleGmailRegsiter={this.handleGmailRegsiter}\r\n\t\t\thandleUserOrigin={this.handleUserOrigin}\r\n          />\r\n        );\r\n\r\n      default:\r\n      // do nothing\r\n    }\r\n  }\r\n}\r\n\r\nexport default withRouter(Register);\r\n","export default __webpack_public_path__ + \"static/media/poker ad.af94b158.mp4\";","export default __webpack_public_path__ + \"static/media/Las-Vegas _ Social Gaming App.b59e86ec.mp4\";","export default __webpack_public_path__ + \"static/media/Final-Logo-PNG-text.c9be3a52.png\";","export default __webpack_public_path__ + \"static/media/panda1.90e01adf.png\";","export default __webpack_public_path__ + \"static/media/panda2.2957f10d.png\";","export default __webpack_public_path__ + \"static/media/panda3.31316aa4.png\";","export default __webpack_public_path__ + \"static/media/panda4.a9dc8b35.png\";","export default __webpack_public_path__ + \"static/media/panda5.26bd8645.png\";","export default __webpack_public_path__ + \"static/media/panda6.8c6bec7b.png\";","export default __webpack_public_path__ + \"static/media/panda7.a2c9d91a.png\";","export default __webpack_public_path__ + \"static/media/panda8.fb08a0b1.png\";","export default __webpack_public_path__ + \"static/media/panda9.576ad524.png\";","import React, { Component } from \"react\";\r\nimport Lottie from \"react-lottie\";\r\nimport { Helmet } from \"react-helmet\";\r\n// import GoogleLogin from \"react-google-login\";\r\n// import PhoneInput from \"react-phone-number-input\";\r\nimport { Modal, Button } from \"react-bootstrap\";\r\nimport { isIOS, isMobile } from \"react-device-detect\";\r\n// import { Link } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport firebase from \"../../firebase\";\r\nimport spiral from \"../../assets/images/landing/spiral5.png\";\r\nimport videoThumbnail1 from \"../../assets/images/landing/video_thumbnai1.webp\";\r\nimport feeds from \"../../assets/images/landing/feed.png\";\r\nimport arrow from \"../../assets/images/landing/feeds-arrow.svg\";\r\nimport nftarrow from \"../../assets/images/landing/nft-arrow.svg\";\r\nimport nft from \"../../assets/images/landing/nft.png\";\r\nimport Layout from \"../layout/layout\";\r\nimport Register from \"../register/register\";\r\nimport video from \"../../assets/images/landing/poker ad.mp4\";\r\nimport lvvideo from \"../../assets/images/landing/Las-Vegas _ Social Gaming App.mp4\";\r\nimport poker from \"../../assets/animation/poker\";\r\nimport blackjack from \"../../assets/animation/blackjack\";\r\nimport radar from \"../../assets/animation/radar\";\r\nimport backgammon from \"../../assets/animation/backgammon\";\r\nimport ludo from \"../../assets/animation/ludo\";\r\nimport logo from \"../../assets/images/header/Final-Logo-PNG-text.png\";\r\nimport play from \"../../assets/animation/play.json\";\r\nimport googleImg from \"../../assets/images/header/googlePlay.png\";\r\nimport appImg from \"../../assets/images/header/iOS.png\";\r\nimport image1 from \"../../assets/images/popups/panda1.png\";\r\nimport image2 from \"../../assets/images/popups/panda2.png\";\r\nimport image3 from \"../../assets/images/popups/panda3.png\";\r\nimport image4 from \"../../assets/images/popups/panda4.png\";\r\nimport image5 from \"../../assets/images/popups/panda5.png\";\r\nimport image6 from \"../../assets/images/popups/panda6.png\";\r\nimport image7 from \"../../assets/images/popups/panda7.png\";\r\nimport image8 from \"../../assets/images/popups/panda8.png\";\r\nimport image9 from \"../../assets/images/popups/panda9.png\";\r\nimport \"./landing.css\";\r\nimport { Redirect } from \"react-router-dom\";\r\n\r\nimport { withTranslation } from \"react-i18next\";\r\n\r\nconst pokerOptions = {\r\n  loop: true,\r\n  autoplay: true,\r\n  animationData: poker,\r\n};\r\n\r\nconst blackjackOptions = {\r\n  loop: true,\r\n  autoplay: true,\r\n  animationData: blackjack,\r\n};\r\n\r\nconst backgammonOptions = {\r\n  loop: true,\r\n  autoplay: true,\r\n  animationData: backgammon,\r\n};\r\n\r\nconst radarOptions = {\r\n  loop: true,\r\n  autoplay: true,\r\n  animationData: radar,\r\n};\r\nconst loduPlay = {\r\n  loop: true,\r\n  autoplay: true,\r\n  animationData: ludo,\r\n};\r\nconst playOptions = {\r\n  loop: true,\r\n  autoplay: true,\r\n  animationData: play,\r\n};\r\n\r\nexport class Landing extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      country: \"US\",\r\n      city: \"\",\r\n      ip: \"\",\r\n      redirect: \"\",\r\n      phone: this.props?.data?.phone,\r\n      device: \"\",\r\n      error: \"\",\r\n      showVideoPopup: !isMobile,\r\n      otp: \"\",\r\n      xtkn: localStorage.getItem(\"xtkn\"),\r\n      loading: false,\r\n      accessRestricted: false,\r\n      deviceId: \"\",\r\n      RegisterShow: false,\r\n      videoType: \"poker\",\r\n      NFTPopup: false,\r\n      statShow: false,\r\n      nav1: null,\r\n      nav2: null,\r\n      videoPlay: false,\r\n      registrationType: \"\",\r\n    };\r\n    this.handleGoogleLogin = this.handleGoogleLogin.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    const urlParams = new URLSearchParams(window.location.search);\r\n    if (urlParams.get(\"email\")) {\r\n      this.setState({ RegisterShow: true });\r\n    }\r\n    firebase.auth().onAuthStateChanged(async (user) => {\r\n      if (user) {\r\n        console.log(\"already logged\");\r\n        this.setState({\r\n          isSignedIn: true,\r\n          redirect: \"/profile\",\r\n        });\r\n      }\r\n    });\r\n    this.setState({\r\n      nav1: this.slider1,\r\n      nav2: this.slider2,\r\n    });\r\n    let vid = document.getElementById(\"howitworks\");\r\n    if (vid) {\r\n      vid.addEventListener(\"pause\", () => {\r\n        this.setState({ videoPlay: false });\r\n      });\r\n      vid.addEventListener(\"play\", () => {\r\n        this.setState({ videoPlay: true });\r\n      });\r\n    }\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    let vid = document.getElementById(\"howitworks\");\r\n    if (vid) {\r\n      vid.removeEventListener(\"pause\", () => {});\r\n      vid.removeEventListener(\"play\", () => {});\r\n    }\r\n  }\r\n\r\n  toggleState() {\r\n    this.setState({\r\n      statShow: !this.state.statShow,\r\n    });\r\n  }\r\n\r\n  handleGoogleLogin = async (email, accessToken, countryCode) => {\r\n    window.gtag(\"event\", \"Google_registration\", {\r\n      title: \"Google registration button\",\r\n    });\r\n    this.setState({ isGoogle: true, email, step: 4, accessToken, countryCode });\r\n    const res = await axios.get(\r\n      `https://people.googleapis.com/v1/people/me?personFields=phoneNumbers,birthdays,genders,locations&access_token=${accessToken}`\r\n    );\r\n    console.log(\"res =>\", res.data, accessToken);\r\n    const {\r\n      data: { phoneNumbers, birthdays, genders },\r\n    } = res;\r\n    if (phoneNumbers?.length) {\r\n      this.setState({ phone: phoneNumbers[0].canonicalForm });\r\n    }\r\n    if (birthdays?.length) {\r\n      const { month, day } = birthdays[0].date;\r\n      let dd = new Date();\r\n      dd.setMonth(month);\r\n      dd.setDate(day);\r\n      this.setState({ birthday: dd.toISOString() });\r\n    }\r\n    if (genders?.length) {\r\n      this.setState({ gender: genders[0].value });\r\n    }\r\n  };\r\n\r\n  async handleGoogleLogin(response) {\r\n    if (response.error) return;\r\n    const {\r\n      profileObj: { email },\r\n      tokenObj: { access_token },\r\n    } = response;\r\n    this.handleGoogle(email, access_token, this.state.country);\r\n  }\r\n\r\n  RegisterClose() {\r\n    this.setState({\r\n      RegisterShow: !this.state.RegisterShow,\r\n    });\r\n  }\r\n\r\n  handleNFTPopup = () => {\r\n    this.setState({ NFTPopup: true });\r\n  };\r\n  handleNFTPopupClose = () => {\r\n    this.setState({ NFTPopup: false });\r\n  };\r\n\r\n  handleRegisterPopup(event) {\r\n    var res = String(event);\r\n    window.gtag(\"event\", \"handleRegisterPopup\", {\r\n      title: \"Open register popup event\",\r\n    });\r\n    window.gtag(\"event\", res, {\r\n      title: \"handleRegister Trigger Button\",\r\n    });\r\n    this.setState({\r\n      RegisterShow: true,\r\n      registrationType: res,\r\n    });\r\n  }\r\n\r\n  handleVideo = () => {\r\n    var v = document.getElementById(\"howitworks\");\r\n    this.setState({ videoPlay: true });\r\n    v.play();\r\n    window.gtag(\"event\", \"Register_Video\", {\r\n      title: \"handleVideo click register page\",\r\n    });\r\n  };\r\n  handleNFTPopup = () => {\r\n    this.setState({ NFTPopup: true });\r\n  };\r\n  handleNFTPopupClose = () => {\r\n    this.setState({ NFTPopup: false });\r\n  };\r\n\r\n  render() {\r\n    if (this.state.redirect) {\r\n      return <Redirect to={this.state.redirect} />;\r\n    }\r\n\r\n    const { t } = this.props;\r\n\r\n    return (\r\n      <>\r\n        <Helmet>\r\n          <html lang='en' className='remove-header-padding' />\r\n        </Helmet>\r\n        <Layout>\r\n          <div className='landing-page'>\r\n            <div className='how-works-section'>\r\n              <div className='container'>\r\n                <h1 className='landing-h4'>\r\n                  <span className='h1-red'> {t(\"landing.live\")} &#x2022;</span>{\" \"}\r\n                  {t(\"landing.gaming\")} <br></br>\r\n                  {t(\"landing.social\")}\r\n                </h1>\r\n                <div className='how-works-content'>\r\n                  <div className='left-section'>\r\n                    <div className='video-img'>\r\n                      <img src={spiral} alt='spiral' className='spiral-img' />\r\n                      <video\r\n                        controls\r\n                        id='howitworks'\r\n                        muted={!this.state.videoPlay}\r\n                        poster={videoThumbnail1}\r\n                      >\r\n                        <source src={lvvideo} type='video/mp4' />\r\n                      </video>\r\n                      {!this.state.videoPlay && (\r\n                        <div className='play-icon' onClick={this.handleVideo}>\r\n                          <Lottie\r\n                            options={playOptions}\r\n                            height={130}\r\n                            width={130}\r\n                          />\r\n                        </div>\r\n                      )}\r\n\r\n                      {/* <img src={dots} alt='spiral' className='dots-img' /> */}\r\n                    </div>\r\n                  </div>\r\n                  <div className='right-section'>\r\n                    <div className='how-grid-box'>\r\n                      <div className='box-content'>\r\n                        <h6>\r\n                          {t(\"landing.heading1\")}{\" \"}\r\n                          <i\r\n                            className='fa fa-video-camera register-fa-video'\r\n                            aria-hidden='true'\r\n                          ></i>\r\n                        </h6>\r\n                        <p>\r\n                          <b className='h6-red'> {t(\"landing.live\")}</b>{\" \"}\r\n                          {t(\"landing.text1\")}\r\n                        </p>\r\n                      </div>\r\n                      <div className='box-content'>\r\n                        <h6>\r\n                          {t(\"landing.heading2\")}{\" \"}\r\n                          <i className='fa fa-globe' aria-hidden='true'></i>\r\n                        </h6>\r\n                        <p>{t(\"landing.text2\")}</p>\r\n                      </div>\r\n                      <div className='box-content'>\r\n                        <h6>\r\n                          {t(\"landing.heading3\")}{\" \"}\r\n                          <i className='fa fa-heart-o' aria-hidden='true'></i>\r\n                        </h6>\r\n                        <p>{t(\"landing.text3\")}</p>\r\n                      </div>\r\n                      <div className='box-content'>\r\n                        <h6> {t(\"landing.heading4\")}</h6>\r\n                        <p className='landing-h4'>\r\n                          &#x2022; {t(\"landing.text4a\")}\r\n                        </p>\r\n                        <p>&#x2022; {t(\"landing.text4b\")}</p>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                  <div className='side-btns'>\r\n                    {!isMobile && (\r\n                      <>\r\n                        <a href='https://play.google.com/store/apps/details?id=com.las_vegas.twa&pcampaignid=pcampaignidMKT-Other-global-all-co-prtnr-py-PartBadge-Mar2515-1'>\r\n                          <img\r\n                            className='google-responsive'\r\n                            src={googleImg}\r\n                            alt='google'\r\n                          />\r\n                        </a>\r\n                        <a href='https://apps.apple.com/app/las-vegas-com/id1605959990?platform=iphone'>\r\n                          <img\r\n                            className='ios-responsive'\r\n                            src={appImg}\r\n                            alt='ios'\r\n                          />\r\n                        </a>\r\n                      </>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div className='popular-game-section'>\r\n              <div className='container'>\r\n                <h1>\r\n                  <a href='https://las-vegas.com'>\r\n                    <Button\r\n                      className='click-to-play'\r\n                      // onClick={(e) => {\r\n                      //   this.handleRegisterPopup(\"Register_PlayNow\");\r\n                      // }}\r\n                    >\r\n                      {t(\"landing.playnow\")}\r\n                    </Button>\r\n                  </a>\r\n                </h1>\r\n                <div className='popular-grid'>\r\n                  <a href='https://las-vegas.com'>\r\n                    <div\r\n                      className='popular-box'\r\n                      // onClick={(e) => {\r\n                      //   this.handleRegisterPopup(\"Register_QuickMatch\");\r\n                      // }}\r\n                    >\r\n                      <button\r\n                        type='button'\r\n                        className='btn btn-danger button-box'\r\n                      >\r\n                        {t(\"landing.playnow\")}\r\n                      </button>\r\n                      <Lottie options={loduPlay} />\r\n                    </div>\r\n                  </a>\r\n                  <a href='https://las-vegas.com'>\r\n                    <div\r\n                      className='popular-box'\r\n                      // onClick={(e) => {\r\n                      //   this.handleRegisterPopup(\"Register_Poker\");\r\n                      // }}\r\n                    >\r\n                      <button\r\n                        type='button'\r\n                        className='btn btn-danger button-box'\r\n                      >\r\n                        {t(\"landing.playnow\")}\r\n                      </button>\r\n                      <Lottie options={pokerOptions} />\r\n                    </div>\r\n                  </a>\r\n                  <a href='https://las-vegas.com'>\r\n                    <div\r\n                      className='popular-box'\r\n                      // onClick={(e) => {\r\n                      //   this.handleRegisterPopup(\"Register_Blackjack\");\r\n                      // }}\r\n                    >\r\n                      <button\r\n                        type='button'\r\n                        className='btn btn-danger button-box'\r\n                      >\r\n                        {t(\"landing.playnow\")}\r\n                      </button>\r\n                      <Lottie options={blackjackOptions} />\r\n                    </div>\r\n                  </a>\r\n                  <a href='https://las-vegas.com'>\r\n                    <div\r\n                      className='popular-box'\r\n                      // onClick={(e) => {\r\n                      //   this.handleRegisterPopup(\"Register_Backgammon\");\r\n                      // }}\r\n                    >\r\n                      <button\r\n                        type='button'\r\n                        className='btn btn-danger button-box'\r\n                      >\r\n                        {t(\"landing.playnow\")}\r\n                      </button>\r\n                      <Lottie options={backgammonOptions} />\r\n                    </div>\r\n                  </a>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div className='share-feedbacks-section'>\r\n              <div className='container'>\r\n                <div className='feeds-grid'>\r\n                  <div className='left-feeds-section'>\r\n                    <img src={feeds} alt='feeds' />\r\n                  </div>\r\n                  <div className='arrow-section'>\r\n                    <img src={arrow} alt='arrow' />\r\n                  </div>\r\n                  <div className='right-feeds-section'>\r\n                    <h6>{t(\"landing.feedback\")}</h6>\r\n                    <p>{t(\"landing.feedbackshare\")}</p>\r\n                    <a href='https://las-vegas.com'>\r\n                      <Button\r\n                      // onClick={(e) => {\r\n                      //   this.handleRegisterPopup(\"Register_Share\");\r\n                      // }}\r\n                      >\r\n                        {t(\"landing.share\")}\r\n                      </Button>\r\n                    </a>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div className='nft-section'>\r\n              <div className='container'>\r\n                <div className='feeds-grid'>\r\n                  <div className='left-nft-section'>\r\n                    <h6>\r\n                      {t(\"landing.nftheading\")}\r\n                      <span> {t(\"landing.nft\")} </span>\r\n                      {t(\"landing.collection\")}\r\n                    </h6>\r\n                    <a href='https://las-vegas.com'>\r\n                      <Button\r\n                      // onClick={this.handleNFTPopup}\r\n                      >\r\n                        {\" \"}\r\n                        {t(\"landing.nfts\")}\r\n                      </Button>\r\n                    </a>\r\n                  </div>\r\n                  <div className='arrow-section'>\r\n                    <img src={nftarrow} alt='arrow' />\r\n                  </div>\r\n                  <div className='right-nft-section'>\r\n                    <img src={nft} alt='feeds' />\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            {isMobile && (\r\n              <div className='appstore-grid'>\r\n                {isIOS && isMobile && (\r\n                  <div className='apple-store'>\r\n                    <a href='https://apps.apple.com/app/las-vegas-com/id1605959990'>\r\n                      <img className='img-responsive' src={appImg} alt='ios' />\r\n                    </a>\r\n                  </div>\r\n                )}\r\n\r\n                {!isIOS && isMobile && (\r\n                  <div className='google-play'>\r\n                    <a href='https://play.google.com/store/apps/details?id=com.las_vegas.twa&pcampaignid=pcampaignidMKT-Other-global-all-co-prtnr-py-PartBadge-Mar2515-1'>\r\n                      <img\r\n                        className='img-responsive'\r\n                        src={googleImg}\r\n                        alt='google'\r\n                      />\r\n                    </a>\r\n                  </div>\r\n                )}\r\n              </div>\r\n            )}\r\n          </div>\r\n          <Modal\r\n            show={this.state.RegisterShow}\r\n            onHide={this.RegisterClose.bind(this)}\r\n            centered\r\n            className='video-register-popup register-signup-popup'\r\n          >\r\n            <Modal.Header closeButton></Modal.Header>\r\n            <Modal.Body>\r\n              <div className='signup'>\r\n                <div className='register-section'>\r\n                  <div className='container'>\r\n                    <div className='main-body'>\r\n                      <div className='row'>\r\n                        <div className='col-md-12 mb-12 game-box'>\r\n                          <div className='signup'>\r\n                            <div className='register-section'>\r\n                              <div className='container'>\r\n                                <div className='row'>\r\n                                  <div className='col-md-12'>\r\n                                    <div className='register-form form-reg-new'>\r\n                                      <img\r\n                                        src={logo}\r\n                                        alt='logo'\r\n                                        className='title-mobile'\r\n                                      />\r\n                                      <div className='rigister-tab'>\r\n                                        <Register />\r\n                                      </div>\r\n                                    </div>\r\n                                  </div>\r\n                                </div>\r\n                              </div>\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              {this.state.registrationType !== \"Register_PlayNow\" ? (\r\n                <div className='register-bg-video'>\r\n                  <video\r\n                    width='100%'\r\n                    height='100%'\r\n                    playsInline\r\n                    src={video}\r\n                    autoPlay={true}\r\n                    muted\r\n                    loop={true}\r\n                  />\r\n                </div>\r\n              ) : (\r\n                <div className='register-bg-video'>\r\n                  <video\r\n                    width='100%'\r\n                    height='100%'\r\n                    playsInline\r\n                    src={video}\r\n                    autoPlay={true}\r\n                    muted\r\n                    loop={true}\r\n                  />\r\n                </div>\r\n              )}\r\n            </Modal.Body>\r\n          </Modal>\r\n          <Modal\r\n            show={this.state.NFTPopup}\r\n            onHide={this.handleNFTPopupClose}\r\n            className='nft-popup'\r\n            size='xl'\r\n          >\r\n            <Modal.Header closeButton></Modal.Header>\r\n            <Modal.Body>\r\n              <div className='nft-listing'>\r\n                <div className='nft-section'>\r\n                  <img src={image1} alt='image1' />\r\n                  <Button\r\n                    onClick={(e) => {\r\n                      this.handleRegisterPopup(\"Register_NFT\");\r\n                    }}\r\n                  >\r\n                    Make Offer\r\n                  </Button>\r\n                </div>\r\n                <div className='nft-section'>\r\n                  <img src={image2} alt='image1' />\r\n                  <Button\r\n                    onClick={(e) => {\r\n                      this.handleRegisterPopup(\"Register_NFT\");\r\n                    }}\r\n                  >\r\n                    Make Offer\r\n                  </Button>\r\n                </div>\r\n                <div className='nft-section'>\r\n                  <img src={image3} alt='image1' />\r\n                  <Button\r\n                    onClick={(e) => {\r\n                      this.handleRegisterPopup(\"Register_NFT\");\r\n                    }}\r\n                  >\r\n                    Make Offer\r\n                  </Button>\r\n                </div>\r\n                <div className='nft-section'>\r\n                  <img src={image4} alt='image1' />\r\n                  <Button\r\n                    onClick={(e) => {\r\n                      this.handleRegisterPopup(\"Register_NFT\");\r\n                    }}\r\n                  >\r\n                    Make Offer\r\n                  </Button>\r\n                </div>\r\n                <div className='nft-section'>\r\n                  <img src={image5} alt='image1' />\r\n                  <Button\r\n                    onClick={(e) => {\r\n                      this.handleRegisterPopup(\"Register_NFT\");\r\n                    }}\r\n                  >\r\n                    Make Offer\r\n                  </Button>\r\n                </div>\r\n                <div className='nft-section'>\r\n                  <img src={image6} alt='image1' />\r\n                  <Button\r\n                    onClick={(e) => {\r\n                      this.handleRegisterPopup(\"Register_NFT\");\r\n                    }}\r\n                  >\r\n                    Make Offer\r\n                  </Button>\r\n                </div>\r\n                <div className='nft-section'>\r\n                  <img src={image7} alt='image1' />\r\n                  <Button\r\n                    onClick={(e) => {\r\n                      this.handleRegisterPopup(\"Register_NFT\");\r\n                    }}\r\n                  >\r\n                    Make Offer\r\n                  </Button>\r\n                </div>\r\n                <div className='nft-section'>\r\n                  <img src={image8} alt='image1' />\r\n                  <Button\r\n                    onClick={(e) => {\r\n                      this.handleRegisterPopup(\"Register_NFT\");\r\n                    }}\r\n                  >\r\n                    Make Offer\r\n                  </Button>\r\n                </div>\r\n                <div className='nft-section'>\r\n                  <img src={image9} alt='image1' />\r\n                  <Button\r\n                    onClick={(e) => {\r\n                      this.handleRegisterPopup(\"Register_NFT\");\r\n                    }}\r\n                  >\r\n                    Make Offer\r\n                  </Button>\r\n                </div>\r\n              </div>\r\n            </Modal.Body>\r\n          </Modal>\r\n        </Layout>\r\n      </>\r\n    );\r\n  }\r\n}\r\nexport default withTranslation()(Landing);\r\n","import React from \"react\";\r\nimport \"./index.css\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport parse from \"html-react-parser\";\r\n\r\nconst PrivacyPolicy = () => {\r\n  const { t } = useTranslation();\r\n\r\n  return (\r\n    <div className='privacy-policy'>\r\n      <div className='container'>\r\n        <div className='row'>\r\n          <div className='col-md-12 m-auto'>\r\n            <div className='privacy-policy-content'>\r\n              <small>\r\n                <Link to='/' style={{ color: \"#b9a11e\" }}>\r\n                  las-vegas.com\r\n                </Link>\r\n              </small>\r\n              <h3 className='privacy-title'>{t(\"privacy.heading\")}</h3>\r\n              <div className='privacy-policy-container'>\r\n                <div className='privacy-box'>{parse(t(\"terms.content\"))}</div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PrivacyPolicy;\r\n","import React from \"react\";\r\nimport \"./index.css\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport parse from \"html-react-parser\";\r\n\r\nconst TermsOfUse = () => {\r\n  const { t } = useTranslation();\r\n\r\n  return (\r\n    <div className='terms-policy'>\r\n      <div className='container'>\r\n        <div className='row'>\r\n          <div className='col-md-12 m-auto'>\r\n            <div className='terms-content'>\r\n              <small>\r\n                <Link to='/' style={{ color: \"#b9a11e\" }}>\r\n                  las-vegas.com\r\n                </Link>\r\n              </small>\r\n              <h3 className='terms-title'>{t(\"terms.heading\")}</h3>\r\n              <div className='terms-container'>\r\n                <div className='privacy-box'>{parse(t(\"terms.content\"))}</div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TermsOfUse;\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport \"./index.css\";\r\n\r\nconst NotFoundPage = () => {\r\n  return <div className=\"container\">\r\n  <div className=\"error-wrapper\">\r\n      <div className=\"man-icon\"></div>\r\n      <h3 className=\"title\">404</h3>\r\n      <h><b>Oops!</b> Page not found</h>\r\n      <Link className=\"home-btn\" to='/login'>Login</Link>\r\n  </div>\r\n</div>;\r\n}\r\n\r\nexport default NotFoundPage;\r\n\r\n","import React from \"react\";\r\nimport { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\r\nimport Landing from \"./components/landingPage/landing\";\r\nimport PrivacyPolicy from \"./components/privacy-policy\";\r\nimport TermsOfUse from \"./components/terms-of-use\";\r\nimport NotFoundPage from \"./components/NotFoundPage\";\r\nimport { MainContext } from \"./context\";\r\nimport \"animate.css\";\r\nimport \"bootstrap/dist/css/bootstrap.min.css\";\r\nimport \"./responsive.css\";\r\n\r\nconst App = () => {\r\n  return (\r\n    <MainContext.Provider>\r\n      <div className='App'>\r\n        <div className='main-wrapper'>\r\n          <React.Fragment>\r\n            <Router>\r\n              <main>\r\n                <div className='main_content'>\r\n                  <Switch>\r\n                    <Route exact path='/' render={() => <Landing />} />\r\n                    <Route\r\n                      path='/privacy-policy'\r\n                      render={() => <PrivacyPolicy />}\r\n                    />\r\n                    <Route path='/terms-of-use' render={() => <TermsOfUse />} />\r\n                    <Route component={NotFoundPage} />\r\n                  </Switch>\r\n                </div>\r\n              </main>\r\n            </Router>\r\n          </React.Fragment>\r\n        </div>\r\n      </div>\r\n    </MainContext.Provider>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","// In production, we register a service worker to serve assets from local cache.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on the \"N+1\" visit to a page, since previously\r\n// cached resources are updated in the background.\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === \"localhost\" ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === \"[::1]\" ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register() {\r\n  if (\"serviceWorker\" in navigator) {\r\n    window.addEventListener(\"load\", () => {\r\n      const swUrl = `/custom-service-worker.js`;\r\n\r\n      if (!isLocalhost) {\r\n        // Is not local host. Just register service worker\r\n        registerValidSW(swUrl);\r\n      } else {\r\n        // This is running on localhost. Lets check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl) {\r\n  navigator.serviceWorker\r\n    .register(swUrl, { scope: \".\" })\r\n    .then((registration) => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === \"installed\") {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the old content will have been purged and\r\n              // the fresh content will have been added to the cache.\r\n              // It's the perfect time to display a \"New content is\r\n              // available; please refresh.\" message in your web app.\r\n              console.log(\"New content is available; please refresh.\");\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log(\"Content is cached for offline use.\");\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch((error) => {\r\n      console.error(\"Error during service worker registration:\", error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then((response) => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      if (\r\n        response.status === 404 ||\r\n        response.headers.get(\"content-type\").indexOf(\"javascript\") === -1\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then((registration) => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        \"No internet connection found. App is running in offline mode.\"\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if (\"serviceWorker\" in navigator) {\r\n    navigator.serviceWorker.ready.then((registration) => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import i18n from \"i18next\";\nimport Backend from \"i18next-xhr-backend\";\nimport LanguageDetector from \"i18next-browser-languagedetector\";\nimport { initReactI18next } from \"react-i18next\";\n\nconst fallbackLng = [\"en\"];\nconst availableLanguages = [\"en\", \"hn\"];\n\ni18n\n  .use(Backend) // load translation using xhr -> see /public/locales. We will add locales in the next step\n\n  .use(LanguageDetector) // detect user language\n\n  .use(initReactI18next) // pass the i18n instance to react-i18next.\n\n  .init({\n    fallbackLng, // if user computer language is not on the list of available languages, than we will be using the fallback language specified earlier\n    debug: false,\n    whitelist: availableLanguages,\n    react: {\n      useSuspense: false,\n    },\n    interpolation: {\n      escapeValue: false,\n    },\n  });\n\nexport default i18n;\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./index.css\";\r\nimport App from \"./App\";\r\nimport * as serviceWorker from \"./serviceWorker\";\r\nimport \"./i18n\";\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n);\r\nserviceWorker.register();\r\n"],"sourceRoot":""}